window.loadTimeData = {
                              fontLabel: 'Шрифт',
                              background: 'Фон',
                              exitReadingMode: 'Выйти из режима чтения',
                              zoomIn: 'Увеличить масштаб',
                              zoomOut: 'Уменьшить масштаб',
                              backgroundColors: 'Цвета фона',
                              backgroundColorWhite: 'Белый фон',
                              backgroundColorSepia: 'Фон цвета сепии',
                              backgroundColorBlack: 'Чёрный фон',
                              fontList: 'Список шрифтов',
                              readingMode: 'Режим чтения',
                              pageFormatting: 'Настройки внешнего вида',
                              readabilityVideoEnabled: false,
                              readabilityEnhancementsEnabled: false,
                              alwaysVoiceable: false,
                              getString: function(param) {
                                return this[param];
                              },
                              getBoolean: function(param) {
                                return this[param];
                              }
                            };var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var l=e[f];if(!(l in d))return;d=d[l]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)$jscomp.owns(d,e)&&(a[e]=d[e])}return a};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(c,d,e){return c==a&&"q"==d&&e==b}}));return!0===b.q}catch(c){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,l){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:l})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
$jscomp.polyfill("WeakMap",function(a){function b(){if(!a||!Object.seal)return!1;try{var k=Object.seal({}),m=Object.seal({}),n=new a([[k,2],[m,3]]);if(2!=n.get(k)||3!=n.get(m))return!1;n.delete(k);n.set(m,4);return!n.has(k)&&4==n.get(m)}catch(p){return!1}}function c(){}function d(k){var m=typeof k;return"object"===m&&null!==k||"function"===m}function e(k){if(!$jscomp.owns(k,l)){var m=new c;$jscomp.defineProperty(k,l,{value:m})}}function f(k){if(!$jscomp.ISOLATE_POLYFILLS){var m=Object[k];m&&(Object[k]=
function(n){if(n instanceof c)return n;Object.isExtensible(n)&&e(n);return m(n)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var l="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var g=0,h=function(k){this.id_=(g+=Math.random()+1).toString();if(k){k=$jscomp.makeIterator(k);for(var m;!(m=k.next()).done;)m=m.value,this.set(m[0],m[1])}};h.prototype.set=function(k,m){if(!d(k))throw Error("Invalid WeakMap key");
e(k);if(!$jscomp.owns(k,l))throw Error("WeakMap key fail: "+k);k[l][this.id_]=m;return this};h.prototype.get=function(k){return d(k)&&$jscomp.owns(k,l)?k[l][this.id_]:void 0};h.prototype.has=function(k){return d(k)&&$jscomp.owns(k,l)&&$jscomp.owns(k[l],this.id_)};h.prototype.delete=function(k){return d(k)&&$jscomp.owns(k,l)&&$jscomp.owns(k[l],this.id_)?delete k[l][this.id_]:!1};return h},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var h=Object.seal({x:4}),k=new a($jscomp.makeIterator([[h,"s"]]));if("s"!=k.get(h)||1!=k.size||k.get({x:4})||k.set({x:4},"t")!=k||2!=k.size)return!1;var m=k.entries(),n=m.next();if(n.done||n.value[0]!=h||"s"!=n.value[1])return!1;n=m.next();return n.done||4!=n.value[0].x||"t"!=n.value[1]||!m.next().done?!1:!0}catch(p){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var c=new WeakMap,d=function(h){this.data_={};this.head_=l();this.size=0;if(h){h=$jscomp.makeIterator(h);for(var k;!(k=h.next()).done;)k=k.value,this.set(k[0],k[1])}};d.prototype.set=function(h,k){h=0===h?0:h;var m=e(this,h);m.list||(m.list=this.data_[m.id]=[]);m.entry?m.entry.value=k:(m.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:h,value:k},m.list.push(m.entry),
this.head_.previous.next=m.entry,this.head_.previous=m.entry,this.size++);return this};d.prototype.delete=function(h){h=e(this,h);return h.entry&&h.list?(h.list.splice(h.index,1),h.list.length||delete this.data_[h.id],h.entry.previous.next=h.entry.next,h.entry.next.previous=h.entry.previous,h.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=l();this.size=0};d.prototype.has=function(h){return!!e(this,h).entry};d.prototype.get=function(h){return(h=
e(this,h).entry)&&h.value};d.prototype.entries=function(){return f(this,function(h){return[h.key,h.value]})};d.prototype.keys=function(){return f(this,function(h){return h.key})};d.prototype.values=function(){return f(this,function(h){return h.value})};d.prototype.forEach=function(h,k){for(var m=this.entries(),n;!(n=m.next()).done;)n=n.value,h.call(k,n[1],n[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var e=function(h,k){var m=k&&typeof k;"object"==m||"function"==m?c.has(k)?m=c.get(k):
(m=""+ ++g,c.set(k,m)):m="p_"+k;var n=h.data_[m];if(n&&$jscomp.owns(h.data_,m))for(h=0;h<n.length;h++){var p=n[h];if(k!==k&&p.key!==p.key||k===p.key)return{id:m,list:n,index:h,entry:p}}return{id:m,list:n,index:-1,entry:void 0}},f=function(h,k){var m=h.head_;return $jscomp.iteratorPrototype(function(){if(m){for(;m.head!=h.head_;)m=m.previous;for(;m.next!=m.head;)return m=m.next,{done:!1,value:k(m)};m=null}return{done:!0,value:void 0}})},l=function(){var h={};return h.previous=h.next=h.head=h},g=0;
return d},"es6","es3");
$jscomp.polyfill("Set",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_SET||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var d=Object.seal({x:4}),e=new a($jscomp.makeIterator([d]));if(!e.has(d)||1!=e.size||e.add(d)!=e||1!=e.size||e.add({x:4})!=e||2!=e.size)return!1;var f=e.entries(),l=f.next();if(l.done||l.value[0]!=d||l.value[1]!=d)return!1;l=f.next();return l.done||l.value[0]==d||4!=l.value[0].x||l.value[1]!=l.value[0]?!1:f.next().done}catch(g){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var c=function(d){this.map_=new Map;if(d){d=$jscomp.makeIterator(d);for(var e;!(e=d.next()).done;)this.add(e.value)}this.size=this.map_.size};c.prototype.add=function(d){d=0===d?0:d;this.map_.set(d,d);this.size=this.map_.size;return this};c.prototype.delete=function(d){d=this.map_.delete(d);this.size=this.map_.size;return d};c.prototype.clear=function(){this.map_.clear();this.size=0};c.prototype.has=
function(d){return this.map_.has(d)};c.prototype.entries=function(){return this.map_.entries()};c.prototype.values=function(){return this.map_.values()};c.prototype.keys=c.prototype.values;c.prototype[Symbol.iterator]=c.prototype.values;c.prototype.forEach=function(d,e){var f=this;this.map_.forEach(function(l){return d.call(e,l,l,f)})};return c},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(b,c){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,c||0)}},"es6","es3");
$jscomp.polyfill("Array.from",function(a){return a?a:function(b,c,d){c=null!=c?c:function(g){return g};var e=[],f="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof f){b=f.call(b);for(var l=0;!(f=b.next()).done;)e.push(c.call(d,f.value,l++))}else for(f=b.length,l=0;l<f;l++)e.push(c.call(d,b[l],l));return e}},"es6","es3");
$jscomp.iteratorFromArray=function(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b,c){return c})}},"es8","es3");
$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(b,c){var d=$jscomp.checkStringArgs(this,b,"startsWith");b+="";var e=d.length,f=b.length;c=Math.max(0,Math.min(c|0,d.length));for(var l=0;l<f&&c<e;)if(d[c++]!=b[l++])return!1;return l>=f}},"es6","es3");$jscomp.polyfill("Object.values",function(a){return a?a:function(b){var c=[],d;for(d in b)$jscomp.owns(b,d)&&c.push(b[d]);return c}},"es8","es3");
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.polyfill("String.prototype.replaceAll",function(a){return a?a:function(b,c){if(b instanceof RegExp&&!b.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return b instanceof RegExp?this.replace(b,c):this.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c)}},"es_next","es3");
function isProbablyReaderable(a,b){b=void 0===b?{}:b;a=parse(a,b);return{approximateCharactersCount:a.contentLength,isReaderable:a.isExceedMinScore,minContentLength:b.minContentLength,minScore:b.minScore,score:a.score}}
function isProbablySummarizable(a,b){b=void 0===b?{}:b;b.summarizeMode=void 0===b.summarizeMode?!0:b.summarizeMode;b.minCharsCount&&void 0===b.maxInterestingArticleLength&&(b.maxInterestingArticleLength=b.minCharsCount);var c=parse(a,b);a=c.contentLength;var d=c.score;c=c.isExceedMinScore;b.minCharsCount&&(c=c&&a>=b.minCharsCount);return{isSummarizable:c,approximateCharactersCount:a,score:d,minContentLength:b.minContentLength,minScore:b.minScore}}
var REGEXPS={unlikelyCandidates:RegExp("ab_visible|actions|-ad-|ad-break|agregate|ai2html|((article|head(er)?)[-_]+)+title|article-sidebar|articles|avatar|(?:[^a-z]|^)banner|breadcrumbs|browserupgrade|button|cookies?|combx|comment|community|confirm-event|cover-wrap|disclaimer|disqus|extra|facts|feed(?!w)|footer(?!-placeholder)|fr_sfiles|fr_viewn_infa|gdpr|indextext|legends|list[-_]*links|menu|nav[^_a-z]|navbar-container|ot-acc-grpdesc|ot-pc-desc|pager|pagination|pds|popup|r-tabbed-table|related|remark|replies|review[^_A-Za-z0-9]|reviewItem|rss|search-results|seo|shoutbox|share(?!w)|sharing_|sidebar|sig-?nup|skyscraper|slide-up-container|social|sponsor|stories-feed|supplemental|terminal|topics|wall_module|wall_posts|yom-remote|yt-extension|zen-widget","gi"),
okMaybeItsACandidate:RegExp("and|article(?!-sidebar|s|-container)|[a-z]+banner|banner[a-z]+|body|column|content|item|lead|main|paragraph|photo|post[^s]|topic[^s]","gi")};function isNodeVisible(a){return(!a.style||"none"!=a.style.display)&&!a.hasAttribute("hidden")&&(!a.hasAttribute("aria-hidden")||"true"!=a.getAttribute("aria-hidden")||a.className&&a.className.indexOf&&-1!==a.className.indexOf("fallback-image"))}function removeJunkSpaces(a){return a.replace(/\s+/g," ").trim()}
function getTextContentLength(a){return removeJunkSpaces(void 0!==a.innerText?a.innerText:a.textContent).length}function reduceNodes(a,b,c){return Array.prototype.reduce.call(a,b.bind(this),c)}
function parse(a,b){b=void 0===b?{}:b;"function"==typeof b&&(b={visibilityChecker:b});b=Object.assign({minScore:20,minContentLength:110,visibilityChecker:isNodeVisible,summarizeMode:!1,maxInterestingArticleLength:Infinity},b);var c=a.querySelectorAll("article, p, pre");a=a.querySelectorAll("div > br,section > br,div > ul:only-child,div.wiki-p,div.article__text,div.para");if(a.length){var d=new Set(c);[].forEach.call(a,function(l){d.add(l.parentNode)});c=[].concat($jscomp.arrayFromIterable(d))}var e=
0,f=0;[].some.call(c,function(l){if(!b.visibilityChecker(l))return!1;var g=l.className+" "+l.id;REGEXPS.unlikelyCandidates.lastIndex=0;REGEXPS.okMaybeItsACandidate.lastIndex=0;if(REGEXPS.unlikelyCandidates.test(g)&&!REGEXPS.okMaybeItsACandidate.test(g))return!1;g=getTextContentLength(l);if("DIV"===l.tagName||"ARTICLE"===l.tagName){var h=l.getElementsByTagName("p");h=reduceNodes(h,function(k,m){return k+getTextContentLength(m)},0);g-=h}l=l.getElementsByTagName("a");if(.8<reduceNodes(l,function(k,m){return k+
getTextContentLength(m)},0)/g||g<b.minContentLength)return!1;e+=Math.sqrt(g-b.minContentLength);f+=g;return b.summarizeMode?f>=b.maxInterestingArticleLength:e>b.minScore});return{isExceedMinScore:e>b.minScore,contentLength:f,score:e}}"object"===typeof module&&(module.exports={isProbablyReaderable:isProbablyReaderable,isProbablySummarizable:isProbablySummarizable});"object"===typeof window&&(window.isProbablyReaderable=isProbablyReaderable,window.isProbablySummarizable=isProbablySummarizable);function Readability(a,b,c){function d(g){this.enabled=l&&"boolean"===typeof g?g:l;this.counter=0}var e=this;if(b&&b.documentElement)a=b,b=c;else if(!a||!a.documentElement)throw Error("First argument to Readability constructor should be a document object.");b=b||{};c=b.originalDocument;this._doc=a;this._docOriginal=c;this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__;this._articleSiteName=this._articleDir=this._articleByline=this._articleTitle=null;this._attempts=[];this._debug=!!b.debug;this._maxElemsToParse=
b.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE;this._nbTopCandidates=b.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES;this._charThreshold=b.charThreshold||this.DEFAULT_CHAR_THRESHOLD;this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(b.classesToPreserve||[]);this._keepClasses=!!b.keepClasses;this._serializer=b.serializer||function(g){return g.innerHTML};this._disableJSONLD=!!b.disableJSONLD;this._allowedVideoRegex=b.allowedVideoRegex||this.REGEXPS.videos;a.baseURI&&a.baseURI.includes("readability-debug=true")&&
(this._debug=!0);this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY|this.FLAG_SPECIAL_SITE_CONDITIONS;if(this._debug){var f=function(g){if(g.nodeType==g.TEXT_NODE)return g.nodeName+' ("'+g.textContent+'")';var h=Array.from(g.attributes||[],function(k){return k.name+'="'+k.value+'"'}).join(" ");return"<"+g.localName+" "+h+">"};this.log=function(){var g=this;if("undefined"!==typeof console){var h=Array.from(arguments,function(k){return k&&k.nodeType==g.ELEMENT_NODE?
f(k):k});h.unshift("Reader: (Readability)");console.log.apply(console,h)}else"undefined"!==typeof dump&&(h=Array.prototype.map.call(arguments,function(k){return k&&k.nodeName?f(k):k}).join(" "),dump("Reader: (Readability) "+h+"\n"))}}else this.log=function(){};this.imageAnnotationsEnabled=!!b.imageAnnotationsEnabled;var l=!!b.enhancementsEnabled;a.baseURI&&a.baseURI.includes("readability-enhancements=true")?l=!0:a.baseURI&&a.baseURI.includes("readability-enhancements=false")&&(l=!1);d.prototype.trigger=
function(g){this.counter++;void 0!==g&&(this.values=this.values||[],this.values.push(g))};this._enhancements={enabled:l,siteSpecific:{yandexMainDesktop:{origin:"https://yandex.ru",pathname:"/",strictPathname:!0,additionalCheck:function(g){return g.documentElement.className.includes("desktop")},selectorsToGrab:".geolink .geolink__reg;.weather__header h1;.weather__grade;.weather__forecast-item;.news__tab_selected_yes;.news__panel:not(.mix-tabber-slide2__panel_hidden_yes) .news__list:not(.news__animation-list) .list__item;.zen-ui-channel-info__title, .zen-ui-channel-info__subtitle, .card-layer-content-header-view, .card-layer-snippet-view".split(";"),
enhancementsToDisable:["removeSimilarTexts"]},yandexMainMobile:{origin:"https://yandex.ru",pathname:"/",strictPathname:!0,additionalCheck:function(g){return g.documentElement.className.includes("mobile")},selectorsToGrab:".locate__text;.news__title;.swiper__category_selected_yes;.swiper__page:not(.swiper__page_visible_no) .news__item-content;.branding-header-mobile__text;.zen-ui-channel-info__title, .zen-ui-channel-info__subtitle-text, .card-layer-content-header-view, .card-layer-snippet-view".split(";"),
enhancementsToDisable:["removeSimilarTexts"]},yandexNewsFeed:{origin:"https://yandex.ru",pathname:"/news/",strictPathname:!0,selectorsToGrab:[".news-top-rubric-heading__title, .mg-card__title, .mg-card__annotation, .mg-card-source"],enhancementsToDisable:["removeSimilarTexts"]},yandexNewsSingle:{origin:"https://yandex.ru",pathname:"/news/story/",strictPathname:!1,selectorsToGrab:[".mg-snippets-group__body .mg-snippet__text, .mg-snippets-group__body .mg-snippet-source-info__agency-name",".news-story__source-title",
".news-story__source .mg-snippet__title, .news-story__source .mg-snippet__agency-info",".news-feed__title",".mg-card__title, .mg-card__annotation"],enhancementsToDisable:["removeSimilarTexts"]},youtubeDesktop:{origin:"https://www.youtube.com",pathname:"/",strictPathname:!0,selectorsToGrab:["#meta h3, #meta #channel-name, #meta #metadata-line"]},youtubeMobile:{origin:"https://m.youtube.com",pathname:"/",strictPathname:!0,selectorsToGrab:[".large-media-item-headline, .large-media-item-metadata h3, .large-media-item-metadata div"]},
youtubeSingleDesktop:{origin:"https://www.youtube.com",pathname:"/watch",strictPathname:!1,selectorsToGrab:"#info h1;#info #count;#info #info-strings;#meta #channel-name;#meta #owner-sub-count;#meta #description".split(";"),enhancementsToEnable:["removePageTitle"]},youtubeSingleMobile:{origin:"https://m.youtube.com",pathname:"/watch",strictPathname:!1,selectorsToGrab:[".secondary-text",".slim-owner-bylines h3",".slim-owner-bylines .subhead","#owner-sub-count","ytm-expandable-video-description-body-renderer"]}},
list:{keepElementsToRemove:new d,keepCandidatesScore:new d,keepElementsWeightByClassname:new d,topCandidateChanged:new d,updateTextContent:new d,betterDetectChildBlockElements:new d,betterDetectElementInnerText:new d,removeComments:new d,removeHiddenElements:new d,removeEmptyElements:new d,removeHighchartsJsElements:new d,removeSvgElements:new d,removeLinksAsText:new d,removePhonesAsText:new d,removeEmailsAsText:new d,removeSimilarTexts:new d,removePageTitle:new d(!1),removeSubAndSup:new d,additionalPositiveRegexp:new d}};
this._docOriginal&&(this._originalDocumentElements={},Array.from(this._docOriginal.body.querySelectorAll("*")).forEach(function(g){var h=g.getAttribute("data-unique-elem-id");h&&(e._originalDocumentElements[h]=g,g.removeAttribute("data-unique-elem-id"));g.getAttribute("data-y-annotation-id")&&g.removeAttribute("data-y-annotation-id")}))}
Readability.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,FLAG_SPECIAL_SITE_CONDITIONS:8,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_N_LEVELS_OF_TITLE_IMAGE_SEARCH:3,DEFAULT_TAGS_TO_SCORE:"H2 H3 H4 H5 H6 P PRE".split(" "),CONTAINER_TAGS_TO_SCORE:["TD","SECTION"],SPLIT_RULES:[". ",","," "],DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:RegExp("ab_visible|actions|-ad-|ad-break|agregate|ai2html|((article|head(er)?)[-_]+)+title|article-sidebar|articles|avatar|(?:[^a-z]|^)banner|breadcrumbs|browserupgrade|button|cookies?|combx|comment|community|cover-wrap|disclaimer|disqus|extra|facts|feed(?!w)|footer(?!-placeholder)|fr_sfiles|fr_viewn_infa|gdpr|indextext|legends|list[-_]*links|menu|nav[^_a-z]|navbar-container|pager|pagination|pds|popup|related|remark|replies|review[^_A-Za-z0-9]|reviewItem|rss|search-results|seo|shoutbox|share(?!w)|sharing_|sidebar|sig-?nup|skyscraper|slide-up-container|social|sponsor|stories-feed|supplemental|terminal|topics|wall_module|wall_posts|yom-remote|yt-extension|zen-widget",
"gi"),okMaybeItsACandidate:RegExp("and|article(?!-sidebar|s|-container)|[a-z]+banner|banner[a-z]+|body|column|content|item|lead|main|paragraph|photo|post[^s]|topic[^s]","gi"),positive:RegExp("article(?!-sidebar|s)|articles-wrapper|[a-z]+banner|banner[a-z]+|b-analytics-scroll|blog|body|content|entry|h-entry|hentry|image|lead|main|page|paragraph|pagination|post|story|text","i"),negative:RegExp("-ad-|hidden|\bhid\b|articles($|s)|[^a-z]banner|combx|comment|com-|contact|foot|footer|footnote|gdpr|[^a-z]links|nav[^a-z]|masthead|media|meta|outbrain|promo|related|right-arrow|scroll|share(?!w)|sharing_buttons|shoutbox|sidebar|skyscraper|sponsor|shopping|social|tags|tool",
"i"),extraneous:RegExp("print|archive|comment|discuss|e[\\-]?mail|share|reply|all|login|sign|single|utility","i"),byline:RegExp("byline|author|writtenby|p-author","i"),titleImages:RegExp("(?:(?:article|cover|intro|post|title|head|main)[_-]*){1,2}(?:img|image|photo|thumb)","i"),replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,
nextLink:/(next|weiter|continue|>([^\|]|$)|\u00bb([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|\u00ab)/i,tokenize:/[\s,.!?'|]+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,keepUrl:/st.yandex-team.ru/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/,
negativeForImages:/thumb/gi},UNLIKELY_ROLES:new Set("menu menubar complementary navigation alert alertdialog dialog".split(" ")),UNLIKELY_TAGS:new Set("DIV SECTION HEADER H1 H2 H3 H4 H5 H6".split(" ")),DIV_TO_P_ELEMS:new Set("BLOCKQUOTE DL DIV IMG OL P PRE TABLE UL".split(" ")),BLOCK_ELEMENTS:new Set("ADDRESS ARTICLE ASIDE BLOCKQUOTE DETAILS DIALOG DD DIV DL DT FIELDSET FIGCAPTION FIGURE FOOTER FORM H1 H2 H3 H4 H5 H6 HEADER HGROUP HR LI MAIN NAV OL P PRE SECTION TABLE UL".split(" ")),ALTER_TO_DIV_EXCEPTIONS:new Set(["DIV",
"ARTICLE","SECTION","P"]),PRESENTATIONAL_ATTRIBUTES:"align background bgcolor border cellpadding cellspacing frame hspace rules style valign vspace".split(" "),DEPRECATED_SIZE_ATTRIBUTE_ELEMS:new Set(["TABLE","TH","TD","HR","PRE"]),PHRASING_ELEMS:new Set("ABBR AUDIO B BDO BR BUTTON CITE CODE DATA DATALIST DFN EM EMBED I IMG INPUT KBD LABEL MARK MATH METER NOSCRIPT OBJECT OUTPUT PROGRESS Q RUBY SAMP SCRIPT SELECT SMALL SPAN STRONG SUB SUP TEXTAREA TIME VAR WBR".split(" ")),CLASSES_TO_PRESERVE:["page"],
HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent:function(a){this._fixRelativeUris(a);this._simplifyNestedElements(a);this._keepClasses||this._cleanClasses(a)},_removeNodes:function(a,b){if(this._docJSDOMParser&&a._isLiveNodeList)throw Error("Do not pass live node lists to _removeNodes");for(var c=a.length-1;0<=c;c--){var d=a[c],e=d.parentNode;e&&(!b||b.call(this,d,c,a))&&e.removeChild(d)}},_replaceNodeTags:function(a,b){if(this._docJSDOMParser&&a._isLiveNodeList)throw Error("Do not pass live node lists to _replaceNodeTags");
a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())this._setNodeTag(c.value,b)},_forEachNode:function(a,b){Array.prototype.forEach.call(a,b,this)},_findNode:function(a,b){return Array.prototype.find.call(a,b,this)},_someNode:function(a,b){return Array.prototype.some.call(a,b,this)},_mapNodes:function(a,b){return Array.prototype.map.call(a,b,this)},_filterNodes:function(a,b){return Array.prototype.filter.call(a,b,this)},_everyNode:function(a,b){return Array.prototype.every.call(a,b,this)},
_concatNodeLists:function(){var a=Array.prototype.slice,b=a.call(arguments).map(function(c){return a.call(c)});return Array.prototype.concat.apply([],b)},_getAllNodesWithTag:function(a,b){return a.querySelectorAll?a.querySelectorAll(b.join(",")):[].concat.apply([],b.map(function(c){c=a.getElementsByTagName(c);return Array.isArray(c)?c:Array.from(c)}))},_cleanClasses:function(a){var b=this._classesToPreserve,c=(a.getAttribute("class")||"").split(/\s+/).filter(function(d){return-1!=b.indexOf(d)}).join(" ");
c?a.setAttribute("class",c):a.removeAttribute("class");for(a=a.firstElementChild;a;a=a.nextElementSibling)this._cleanClasses(a)},_fixRelativeUris:function(a){function b(f){if(c==d&&"#"==f.charAt(0))return f;try{return(new URL(f,c)).href}catch(l){}return f}var c=this._doc.baseURI,d=this._doc.documentURI,e=this._getAllNodesWithTag(a,["a"]);this._forEachNode(e,function(f){var l=f.getAttribute("href");if(l)if(0===l.indexOf("javascript:"))if(1===f.childNodes.length&&f.childNodes[0].nodeType===this.TEXT_NODE)l=
this._doc.createTextNode(f.textContent),f.parentNode.replaceChild(l,f);else{for(l=this._doc.createElement("span");f.firstChild;)l.appendChild(f.firstChild);f.parentNode.replaceChild(l,f)}else f.setAttribute("href",b(l))});a=this._getAllNodesWithTag(a,"img picture figure video audio source".split(" "));this._forEachNode(a,function(f){var l=f.getAttribute("src"),g=f.getAttribute("poster"),h=f.getAttribute("srcset");l&&f.setAttribute("src",b(l));g&&f.setAttribute("poster",b(g));h&&(l=h.replace(this.REGEXPS.srcsetUrl,
function(k,m,n,p){return b(m)+(n||"")+p}),f.setAttribute("srcset",l))})},_simplifyNestedElements:function(a){for(;a;){if(a.parentNode&&["DIV","SECTION"].includes(a.tagName)&&(!a.id||!a.id.startsWith("readability")))if(this._isElementWithoutContent(a)){a=this._removeAndGetNext(a);continue}else if(this._hasSingleTagInsideElement(a,"DIV")||this._hasSingleTagInsideElement(a,"SECTION")){for(var b=a.children[0],c=0;c<a.attributes.length;c++)b.setAttribute(a.attributes[c].name,a.attributes[c].value);a.parentNode.replaceChild(b,
a);a=b;continue}a=this._getNextNode(a)}},_getArticleTitle:function(){function a(l){return l.split(/\s+/).length}var b=this._doc,c="",d="";try{c=d=b.title.trim(),"string"!==typeof c&&(c=d=this._getInnerText(b.getElementsByTagName("title")[0]))}catch(l){}var e=!1;if(/ [\|\-\\\/>\u00bb] /.test(c))e=/ [\\\/>\u00bb] /.test(c),c=d.replace(/(.*)[\|\-\\\/>\u00bb] .*/gi,"$1"),3>a(c)&&(c=d.replace(/[^\|\-\\\/>\u00bb]*[\|\-\\\/>\u00bb](.*)/gi,"$1"));else if(-1!==c.indexOf(": ")){b=this._concatNodeLists(b.getElementsByTagName("h1"),
b.getElementsByTagName("h2"));var f=c.trim();this._someNode(b,function(l){return l.textContent.trim()===f})||(c=d.substring(d.lastIndexOf(":")+1),3>a(c)?c=d.substring(d.indexOf(":")+1):5<a(d.substr(0,d.indexOf(":")))&&(c=d))}else if(150<c.length||15>c.length)b=b.getElementsByTagName("h1"),1===b.length&&(c=this._getInnerText(b[0]));c=c.trim().replace(this.REGEXPS.normalize," ");b=a(c);4>=b&&(!e||b!=a(d.replace(/[\|\-\\\/>\u00bb]+/g,""))-1)&&(c=d);return c},_prepDocument:function(){var a=this._doc;
this._removeNodes(this._getAllNodesWithTag(a,["style"]));a.body&&this._replaceBrs(a.body);this._replaceNodeTags(this._getAllNodesWithTag(a,["font"]),"SPAN")},_nextNode:function(a){for(;a&&a.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(a.textContent);)a=a.nextSibling;return a},_replaceBrs:function(a){this._forEachNode(this._getAllNodesWithTag(a,["br"]),function(b){for(var c=b.nextSibling,d=!1;(c=this._nextNode(c))&&"BR"==c.tagName;){d=!0;var e=c.nextSibling;c.parentNode.removeChild(c);
c=e}if(d){d=this._doc.createElement("p");b.parentNode.replaceChild(d,b);for(c=d.nextSibling;c&&("BR"!=c.tagName||!(b=this._nextNode(c.nextSibling))||"BR"!=b.tagName)&&this._isPhrasingContent(c);)b=c.nextSibling,d.appendChild(c),c=b;for(;d.lastChild&&this._isWhitespace(d.lastChild);)d.removeChild(d.lastChild);"P"===d.parentNode.tagName&&this._setNodeTag(d.parentNode,"DIV")}})},_setNodeTag:function(a,b){this.log("_setNodeTag",a,b);if(this._docJSDOMParser)return a.localName=b.toLowerCase(),a.tagName=
b.toUpperCase(),a;for(b=a.ownerDocument.createElement(b);a.firstChild;)b.appendChild(a.firstChild);a.parentNode.replaceChild(b,a);a.readability&&(b.readability=a.readability);for(var c=0;c<a.attributes.length;c++)try{b.setAttribute(a.attributes[c].name,a.attributes[c].value)}catch(d){this.log("setAttribute error",a.attributes[c])}return b},_prepArticle:function(a){this._cleanStyles(a);this._markDataTables(a);this._fixLazyImages(a);this._cleanConditionally(a,"form");this._cleanConditionally(a,"fieldset");
this._clean(a,"object");this._clean(a,"embed");this._clean(a,"footer");this._clean(a,"link");this._clean(a,"aside");this._clean(a,"canvas");var b=this._enhancements.list.removeSubAndSup;if(b.enabled){var c=a.querySelectorAll("sup, sub");c.length&&(c.forEach(function(e){b.trigger({reason:"_prepArticle",text:e.innerText})}),this._cleanConditionally(a,"sup"),this._cleanConditionally(a,"sub"))}var d=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(a.children,function(e){this._cleanMatchedNodes(e,function(f,
l){return this.REGEXPS.shareElements.test(l)&&f.textContent.length<d})});this._clean(a,"iframe");this._clean(a,"input");this._clean(a,"textarea");this._clean(a,"select");this._clean(a,"button");this._cleanHeaders(a);this._cleanConditionally(a,"table");this._cleanConditionally(a,"ul");this._cleanConditionally(a,"div");this._replaceNodeTags(this._getAllNodesWithTag(a,["h1"]),"h2");this._removeNodes(this._getAllNodesWithTag(a,["p"]),function(e){var f=e.getElementsByTagName("img").length,l=e.getElementsByTagName("embed").length,
g=e.getElementsByTagName("object").length,h=e.getElementsByTagName("iframe").length;return 0===f+l+g+h&&!this._getInnerText(e,!1)});this._removeNodes(this._getAllNodesWithTag(a,["br"]),function(e){return(e=this._nextNode(e.nextSibling))&&"P"==e.tagName});this._forEachNode(this._getAllNodesWithTag(a,["table"]),function(e){var f=this._hasSingleTagInsideElement(e,"TBODY")?e.firstElementChild:e;this._hasSingleTagInsideElement(f,"TR")&&(f=f.firstElementChild,this._hasSingleTagInsideElement(f,"TD")&&(f=
f.firstElementChild,f=this._setNodeTag(f,this._everyNode(f.childNodes,this._isPhrasingContent)?"P":"DIV"),e.parentNode.replaceChild(f,e)))});this._forEachNode(this._getAllNodesWithTag(a,["img"]),function(e){var f=e.getAttribute("data-src");f&&(-1===f.indexOf("{")&&e.setAttribute("src",f),e.removeAttribute("data-src"));if(e=e.parentNode){f=!1;for(var l=e;l!==a&&!f;)f="FIGURE"===l.tagName,l=l.parentNode;f&&(e=e.getElementsByTagName("img"),1<e.length&&(e=this._mapNodes(e,function(g){return[this._getImageWeight(g),
g]}),e.sort(function(g,h){return h[0]-g[0]}),e.slice(1).forEach(function(g){g[1].parentNode.removeChild(g[1])})))}})},_getImageWeight:function(a){var b=0;"string"===typeof a.className&&""!==a.className&&this.REGEXPS.negativeForImages.test(a.className)&&(b-=25);return b},_elementHasSingleImage:function(a){return 1===a.getElementsByTagName("img").length},_containsTitleImage:function(a){var b=null;if("IMG"===a.tagName)b=a;else{var c=a.getElementsByTagName("img");1===c.length&&(b=c[0])}if(!b)return!1;
for(c=[];b;){c.push(b.className,b.id);if(b===a)break;b=b.parentNode}return null!==c.join(" ").match(this.REGEXPS.titleImages)},_findTitleImageElement:function(a){for(var b=this.DEFAULT_N_LEVELS_OF_TITLE_IMAGE_SEARCH;a&&0<b;){var c=a.previousElementSibling;if(c){if(this._containsTitleImage(c))return c;a=c}else for(--b,a=a.parentNode;a&&!a.previousElementSibling&&!a.nextElementSibling;)a=a.parentNode}return null},_appendNodeToArticleContent:function(a,b){this.log("Appending node:",a);this.ALTER_TO_DIV_EXCEPTIONS.has(a.nodeName)||
(this.log("Altering sibling:",a,"to div."),a=this._setNodeTag(a,"DIV"));b.appendChild(a)},_initializeNode:function(a){a.readability={contentScore:0};if("BODY"!==a.tagName){switch(a.tagName){case "DIV":a.readability.contentScore+=5;break;case "PRE":case "TD":case "BLOCKQUOTE":a.readability.contentScore+=3;break;case "ADDRESS":case "OL":case "UL":case "DL":case "DD":case "DT":case "LI":case "FORM":a.readability.contentScore-=3;break;case "H1":case "H2":case "H3":case "H4":case "H5":case "H6":case "TH":a.readability.contentScore-=
5}a.readability.contentScore+=this._getClassWeight(a);a.readability.contentScore+=this._getSpecialConditionsWeight(a)}},_removeAndGetNext:function(a){var b=this._getNextNode(a,!0);a.parentNode.removeChild(a);return b},_getNextNode:function(a,b){if(!b&&a.firstElementChild)return a.firstElementChild;if(a.nextElementSibling)return a.nextElementSibling;do a=a.parentNode;while(a&&!a.nextElementSibling);return a&&a.nextElementSibling},_textSimilarity:function(a,b){var c=a.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);
a=b.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);return c.length&&a.length?1-a.filter(function(d){return!c.includes(d)}).join(" ").length/a.join(" ").length:0},_checkByline:function(a,b){if(this._articleByline)return!1;if(void 0!==a.getAttribute)var c=a.getAttribute("rel"),d=a.getAttribute("itemprop");return("author"===c||d&&-1!==d.indexOf("author")||this.REGEXPS.byline.test(b))&&this._isValidByline(a.textContent)?(this._articleByline=a.textContent.trim().replace(/\s+/g," "),!0):!1},
_getNodeAncestors:function(a,b){b=b||0;for(var c=0,d=[];a.parentNode;){d.push(a.parentNode);if(b&&++c===b)break;a=a.parentNode}return d},_grabElementsBySelectors:function(a,b){var c=this;a=a.reduce(function(e,f){return e.concat(Array.from(c._doc.body.querySelectorAll(f)))},[]);if(a.length){var d=this._doc.createElement("div");b&&(d.id="readability-content");a.forEach(function(e){if(c._isBlockElement(e))d.appendChild(e);else{var f=c._doc.createElement("div");f.setAttribute("data-unique-elem-id",e.getAttribute("data-unique-elem-id"));
f.innerHTML=Readability.policy.createHTML(e.innerHTML);d.appendChild(f)}});b=this._doc.createElement("div");b.id="readability-page-1";b.className="page";for(a=d.childNodes;a.length;)b.appendChild(a[0]);d.appendChild(b);return d}},_grabArticle:function(a){var b=this;this.log("**** grabArticle ****");var c=this._doc,d=null!==a;a=a?a:this._doc.body;if(!a)return this.log("No body found in document. Abort."),null;var e=a.innerHTML;if(this._enhancements.enabled){var f=this._doc,l=new URL(f.baseURI),g=Object.values(this._enhancements.siteSpecific).find(function(r){var v=
r.origin===l.origin,C=("boolean"===typeof r.strictPathname?r.strictPathname:1)?r.pathname===l.pathname:l.pathname.includes(r.pathname);r="function"===typeof r.additionalCheck?r.additionalCheck(f):!0;return v&&C&&r});if(g&&g.selectorsToGrab){var h=this._grabElementsBySelectors(g.selectorsToGrab,d);if(h){a=$jscomp.makeIterator(Object.keys(this._enhancements.list));for(c=a.next();!c.done;c=a.next())c=c.value,(g.enhancementsToEnable||[]).includes(c)?this._enhancements.list[c].enabled=!0:(g.enhancementsToDisable||
[]).includes(c)&&(this._enhancements.list[c].enabled=!1);this.log("Grabbed site-specific content",g,h);return h}}}for(;;){this.log("Starting grabArticle loop");g=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS);h=[];for(var k=this._doc.documentElement,m=!0;k;){"HTML"===k.tagName&&(this._articleLang=k.getAttribute("lang"),this._articleDir=k.getAttribute("dir"));var n=k.className+" "+k.id,p=k.tagName;if(this._isProbablyVisible(k))if("true"==k.getAttribute("aria-modal")&&"dialog"==k.getAttribute("role"))k=
this._removeAndGetNext(k);else if(this._checkByline(k,n))k=this._removeAndGetNext(k);else{if(g){var q=(n.match(this.REGEXPS.unlikelyCandidates)||[]).length,t=(n.match(this.REGEXPS.okMaybeItsACandidate)||[]).length;if("ASIDE"===p||0<q&&q>t&&!["A","HTML","BODY"].includes(p)&&!this._hasAncestorTag(k,"table")&&!this._hasAncestorTag(k,"code")){this.log("Removing unlikely candidate - ("+p.toLowerCase()+")"+n);k=this._removeAndGetNext(k);continue}if(this.UNLIKELY_ROLES.has(k.getAttribute("role"))){this.log("Removing content with role "+
k.getAttribute("role")+" - "+n);k=this._removeAndGetNext(k);continue}}if(m&&this._headerDuplicatesTitle(k))this.log("Removing header: ",k.textContent.trim(),this._articleTitle.trim()),m=!1,k=this._removeAndGetNext(k);else if(this.UNLIKELY_TAGS.has(p)&&this._isElementWithoutContent(k))k=this._removeAndGetNext(k);else{-1!==this.DEFAULT_TAGS_TO_SCORE.indexOf(k.tagName)&&h.push(k);-1!==this.CONTAINER_TAGS_TO_SCORE.indexOf(k.tagName)&&(this.DEFAULT_TAGS_TO_SCORE.some(function(r){return 0<k.getElementsByTagName(r).length})||
h.push(k));if("DIV"===p){n=null;for(p=k.firstChild;p;){q=p.nextSibling;if(this._isPhrasingContent(p))null!==n?n.appendChild(p):this._isWhitespace(p)||(n=c.createElement("p"),k.replaceChild(n,p),n.appendChild(p));else if(null!==n){for(;n.lastChild&&this._isWhitespace(n.lastChild);)n.removeChild(n.lastChild);n=null}p=q}this._hasSingleTagInsideElement(k,"P")&&.25>this._getLinkDensity(k)?(n=k.children[0],n.className+=" "+k.className,k.parentNode.replaceChild(n,k),k=n,h.push(k)):this._hasChildBlockElement(k)||
(k=this._setNodeTag(k,"P"),h.push(k))}k=this._getNextNode(k)}}else this.log("Removing hidden node - "+n),k=this._removeAndGetNext(k)}var w=[],y=null;this._forEachNode(h,function(r){if(r.parentNode&&"undefined"!==typeof r.parentNode.tagName){var v=this._getInnerText(r);if(!(25>v.length)){var C=this._getNodeAncestors(r,5);if(0!==C.length){var D=0;D+=1;D+=v.split(",").length;D+=Math.min(Math.floor(v.length/100),3);v=/(\b|_)lead(ing)?(\b|_)/i;!y&&v.test(r.className)&&(D+=10,y=r);this._forEachNode(C,function(A,
F){A.tagName&&A.parentNode&&"undefined"!==typeof A.parentNode.tagName&&("undefined"===typeof A.readability&&(this._initializeNode(A),w.push(A)),A.readability.contentScore+=D/(0===F?1:1===F?2:3*F))})}}}});m=[];g=0;for(h=w.length;g<h;g+=1)for(n=w[g],p=n.readability.contentScore*(1-this._getLinkDensity(n)),q=this._enhancements.list.keepCandidatesScore,q.enabled&&0<this._getLinkDensity(n)&&(p=n.readability.contentScore,q.trigger()),n.readability.contentScore=p,this.log("Candidate:",n,"with score "+p),
q=0;q<this._nbTopCandidates;q++)if(t=m[q],!t||p>t.readability.contentScore){m.splice(q,0,n);m.length>this._nbTopCandidates&&m.pop();break}g=m[0]||null;h=!1;if(null===g||"BODY"===g.tagName){g=c.createElement("DIV");for(h=!0;a.firstChild;)this.log("Moving child out:",a.firstChild),g.appendChild(a.firstChild);a.appendChild(g);this._initializeNode(g)}else if(g){n=[];p=this._enhancements.list.topCandidateChanged;p.enabled&&m&&m.length&&(q=m.slice(),q.sort(function(r,v){return b._getInnerText(v).length-
b._getInnerText(r).length}),q=q.find(function(r){return"BODY"!==r.nodeName}),q!==g&&(g=q,p.trigger()));for(p=1;p<m.length;p++).75<=m[p].readability.contentScore/g.readability.contentScore&&n.push(this._getNodeAncestors(m[p]));if(3<=n.length)for(m=g.parentNode;"BODY"!==m.tagName;){for(q=p=0;q<n.length&&3>p;q++)p+=Number(n[q].includes(m));if(3<=p){g=m;break}m=m.parentNode}g.readability||this._initializeNode(g);m=g.parentNode;n=g.readability.contentScore;for(p=n/3;"BODY"!==m.tagName;){if(m.readability){q=
m.readability.contentScore;if(q<p)break;if(q>n){g=m;break}n=m.readability.contentScore}m=m.parentNode}for(m=g.parentNode;"BODY"!=m.tagName&&1==m.children.length;)g=m,m=g.parentNode;g.readability||this._initializeNode(g)}this.log("Top candidate:",g);n=c.createElement("DIV");d&&(n.id="readability-content");p=Math.max(10,.2*g.readability.contentScore);m=g.parentNode;q=m.children;for(var B=t=!1,E=0,H=q.length;E<H;E++){var u=q[E],z=!1;this.log("Looking at sibling node:",u,u.readability?"with score "+u.readability.contentScore:
"");this.log("Sibling has score",u.readability?u.readability.contentScore:"Unknown");if(u===g){if(t=z=!0,!B){var x=this._findTitleImageElement(g.parentNode);x&&("IMG"===x.tagName&&(B=c.createElement("DIV"),B.appendChild(x),x=B),this._appendNodeToArticleContent(x,n),B=!0)}}else{x=0;var I="";(function C(v){v&&"DIV"===v.tagName&&(I+=" "+v.className,[].forEach.call(v.children,C))})(u);x+=.2*this._getClassWeight({className:I});u.className===g.className&&""!==g.className&&(x+=.2*g.readability.contentScore);
if(u.readability&&u.readability.contentScore+x>=p)z=!0;else if(!t&&this._elementHasSingleImage(u)&&this._containsTitleImage(u)){z=c.createElement("DIV");z.appendChild(u);this._cleanConditionally(z,"div");if(B=!this._elementHasSingleImage(u))this.log("Filtered out possible title image"),u=c.createElement("div");z=!0;B=!B}else if("P"===u.nodeName){x=this._getLinkDensity(u);var J=this._getInnerText(u),G=J.length;80<G&&.25>x?z=!0:80>G&&0<G&&0===x&&-1!==J.search(/\.( |$)/)&&(z=!0)}}z&&(this._appendNodeToArticleContent(u,
n),q=m.children,--E,--H)}y&&!n.contains(y)&&n.prepend(y);this._debug&&this.log("Article content pre-prep: "+n.innerHTML);this._prepArticle(n);this._debug&&this.log("Article content post-prep: "+n.innerHTML);if(h)g.id="readability-page-1",g.className="page";else{h=c.createElement("DIV");h.id="readability-page-1";for(h.className="page";n.firstChild;)h.appendChild(n.firstChild);n.appendChild(h)}this._debug&&this.log("Article content after paging: "+n.innerHTML);h=!0;p=this._getInnerText(n,!0).length;
if(p<this._charThreshold)if(h=!1,a.innerHTML=Readability.policy.createHTML(e),this._flagIsActive(this.FLAG_STRIP_UNLIKELYS)?(this._removeFlag(this.FLAG_STRIP_UNLIKELYS),this._attempts.push({articleContent:n,textLength:p})):this._flagIsActive(this.FLAG_WEIGHT_CLASSES)?(this._removeFlag(this.FLAG_WEIGHT_CLASSES),this._attempts.push({articleContent:n,textLength:p})):this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)&&(this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY),this._attempts.push({articleContent:n,
textLength:p})),this._flagIsActive(this.FLAG_SPECIAL_SITE_CONDITIONS))this._removeFlag(this.FLAG_SPECIAL_SITE_CONDITIONS),this._attempts.push({articleContent:n,textLength:p});else{this._attempts.push({articleContent:n,textLength:p});this._attempts.sort(function(r,v){return v.textLength-r.textLength});if(!this._attempts[0].textLength)return null;n=this._attempts[0].articleContent;h=!0}if(h)return a=[m,g].concat(this._getNodeAncestors(m)),this._someNode(a,function(r){return r.tagName?(r=r.getAttribute("dir"))?
(this._articleDir=r,!0):!1:!1}),n}},_isValidByline:function(a){return"string"==typeof a||a instanceof String?(a=a.trim(),0<a.length&&100>a.length):!1},_unescapeHtmlEntities:function(a){if(!a)return a;var b=this.HTML_ESCAPE_MAP;return a.replace(/&(quot|amp|apos|lt|gt);/g,function(c,d){return b[d]}).replace(/&#(?:x([0-9a-z]{1,4})|([0-9]{1,4}));/gi,function(c,d,e){c=parseInt(d||e,d?16:10);return String.fromCharCode(c)})},_getJSONLD:function(a){a=this._getAllNodesWithTag(a,["script"]);var b;this._forEachNode(a,
function(c){if(!b&&"application/ld+json"===c.getAttribute("type"))try{var d=c.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),e=JSON.parse(d);if(e["@context"]&&e["@context"].match(/^https?:\/\/schema\.org$/)&&(!e["@type"]&&Array.isArray(e["@graph"])&&(e=e["@graph"].find(function(g){return(g["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes)})),e&&e["@type"]&&e["@type"].match(this.REGEXPS.jsonLdArticleTypes))){b={};if("string"===typeof e.name&&"string"===typeof e.headline&&e.name!==e.headline){var f=
this._getArticleTitle(),l=.75<this._textSimilarity(e.name,f);.75<this._textSimilarity(e.headline,f)&&!l?b.title=e.headline:b.title=e.name}else"string"===typeof e.name?b.title=e.name.trim():"string"===typeof e.headline&&(b.title=e.headline.trim());e.author&&("string"===typeof e.author.name?b.byline=e.author.name.trim():Array.isArray(e.author)&&e.author[0]&&"string"===typeof e.author[0].name&&(b.byline=e.author.filter(function(g){return g&&"string"===typeof g.name}).map(function(g){return g.name.trim()}).join(", ")));
"string"===typeof e.description&&(b.excerpt=e.description.trim());e.publisher&&"string"===typeof e.publisher.name&&(b.siteName=e.publisher.name.trim())}}catch(g){this.log(g.message)}});return b?b:{}},_choosePreferableByline:function(a,b){var c=void 0!==a;c&&void 0!==b&&(c=!this._containsProbableAddress(a),this._containsProbableAddress(b));return(c?a:b)||null},_containsProbableAddress:function(a){return"string"==typeof a||a instanceof String?/https?:\/\/|@/.test(a):!1},_getArticleMetadata:function(a){var b=
{},c={},d=this._doc.getElementsByTagName("meta"),e=/\s*(dc|dcterm|og|twitter)\s*:\s*(author|creator|description|title|site_name)\s*/gi,f=/^\s*(?:(dc|dcterm|og|twitter|weibo:(article|webpage))\s*[\.:]\s*)?(author|creator|description|title|site_name)\s*$/i;this._forEachNode(d,function(l){var g=l.getAttribute("name"),h=l.getAttribute("property");if(l=l.getAttribute("content")){var k=null;h&&(k=h.match(e))&&(h=k[0].toLowerCase().replace(/\s/g,""),c[h]=l.trim());!k&&g&&f.test(g)&&l&&(h=g.toLowerCase().replace(/\s/g,
"").replace(/\./g,":"),c[h]=l.trim())}});b.title=a.title||c["dc:title"]||c["dcterm:title"]||c["og:title"]||c["weibo:article:title"]||c["weibo:webpage:title"]||c.title||c["twitter:title"];b.title&&this._canUseTitleFromMetadata()||(b.title=this._getArticleTitle());b.byline=a.byline||c["dc:creator"]||c["dcterm:creator"]||c.author;b.excerpt=a.excerpt||c["dc:description"]||c["dcterm:description"]||c["og:description"]||c["weibo:article:description"]||c["weibo:webpage:description"]||c.description||c["twitter:description"];
b.siteName=a.siteName||c["og:site_name"];b.title=this._unescapeHtmlEntities(b.title);b.byline=this._unescapeHtmlEntities(b.byline);b.excerpt=this._unescapeHtmlEntities(b.excerpt);b.siteName=this._unescapeHtmlEntities(b.siteName);return b},_isSingleImage:function(a){return"IMG"===a.tagName?!0:1!==a.children.length||""!==a.textContent.trim()?!1:this._isSingleImage(a.children[0])},_unwrapNoscriptImages:function(a){var b=Array.from(a.getElementsByTagName("img"));this._removeNodes(b,function(c){for(var d=
0;d<c.attributes.length;d++){var e=c.attributes[d];switch(e.name){case "src":case "srcset":case "data-src":case "data-srcset":return!1}if(/\.(jpg|jpeg|png|webp)/i.test(e.value))return!1}return!0});b=Array.from(a.getElementsByTagName("noscript"));this._forEachNode(b,function(c){var d=a.createElement("div");d.innerHTML=Readability.policy.createHTML(c.innerHTML);if(this._isSingleImage(d)){var e=c.previousElementSibling;if(e&&this._isSingleImage(e)){var f=e;"IMG"!==f.tagName&&(f=e.getElementsByTagName("img")[0]);
for(var l=d.getElementsByTagName("img")[0],g=0;g<f.attributes.length;g++){var h=f.attributes[g];if(""!==h.value&&("src"===h.name||"srcset"===h.name||/\.(jpg|jpeg|png|webp)/i.test(h.value))&&l.getAttribute(h.name)!==h.value){var k=h.name;l.hasAttribute(k)&&(k="data-old-"+k);l.setAttribute(k,h.value)}}c.parentNode.replaceChild(d.firstElementChild,e)}}})},_canUseTitleFromMetadata:function(){return 0<this._doc.getElementsByClassName("rbcslider__slide").length||0<this._doc.getElementsByClassName("js-rbcslider-slide").length?
!1:!0},_removeScripts:function(a){this._removeNodes(this._getAllNodesWithTag(a,["script","noscript"]))},_hasSingleTagInsideElement:function(a,b){return 1!=a.children.length||a.children[0].tagName!==b?!1:!this._someNode(a.childNodes,function(c){return c.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(c.textContent)})},_isElementWithoutContent:function(a){return a.nodeType===this.ELEMENT_NODE&&0==a.textContent.trim().length&&(0==a.children.length||a.children.length==a.getElementsByTagName("br").length+
a.getElementsByTagName("hr").length)},_hasChildBlockElement:function(a){return this._someNode(a.childNodes,function(b){var c=this._enhancements.list.betterDetectChildBlockElements;if(c.enabled){var d=this.DIV_TO_P_ELEMS.has(b.tagName),e=this.BLOCK_ELEMENTS.has(b.tagName);(b=this._hasChildBlockElement(b))||!e||d||c.trigger();return e||b}return this.DIV_TO_P_ELEMS.has(b.tagName)||this._hasChildBlockElement(b)})},_isPhrasingContent:function(a){return a.nodeType===this.TEXT_NODE||this.PHRASING_ELEMS.has(a.tagName)||
("A"===a.tagName||"DEL"===a.tagName||"INS"===a.tagName)&&this._everyNode(a.childNodes,this._isPhrasingContent)},_isBlockElement:function(a){return this.BLOCK_ELEMENTS.has(a.tagName)},normalizeTextParts:function(a,b){var c=this,d=[];a.forEach(function(e){if(e.length<=b)d.push(e);else for(var f=0,l=b;f<e.length;){for(var g=e.slice(f,l),h=!1,k=$jscomp.makeIterator(c.SPLIT_RULES),m=k.next();!m.done;m=k.next()){var n=m.value;m=g.lastIndexOf(n);n=n.length;if(-1!==m){d.push(g.slice(0,m+n));f=f+m+n;l=f+b;
h=!0;break}}h||(d.push(g),f=l,l=f+b)}});return d},_isWhitespace:function(a){return a.nodeType===this.TEXT_NODE&&0===a.textContent.trim().length||a.nodeType===this.ELEMENT_NODE&&"BR"===a.tagName},_elementIsComment:function(a){var b=["#comment","#cdata-section"];return a&&b.includes(a.nodeName)},_getInnerText:function(a,b){var c=this._enhancements.list.removeComments;if(c.enabled&&this._elementIsComment(a))return c.trigger(),"";b="undefined"===typeof b?!0:b;c=a.textContent.trim();var d=this._enhancements.list.updateTextContent;
if(d.enabled&&a.childNodes){var e=this._enhancements.list.removeSubAndSup;if(e.enabled&&a.querySelectorAll){var f=a.querySelectorAll("sup, sub");f.length&&(f.forEach(function(g){e.trigger({reason:"_getInnerText",text:g.innerText})}),this._cleanConditionally(a,"sup"),this._cleanConditionally(a,"sub"))}a=Array.from(a.childNodes).filter(function(g){return(1===g.nodeType||3===g.nodeType)&&g.textContent&&""!==g.textContent.trim()}).map(function(g){return g.textContent.trim()}).join(" ");f=RegExp("\n{1,}",
"g");var l=RegExp("\\s{2,}","g");f.test(a)&&(a=a.replaceAll(f," "));l.test(a)&&(a=a.replaceAll(l," "));a!==c&&(f={before:c,after:a},c=a,d.trigger(f))}return b?c.replace(this.REGEXPS.normalize," "):c},_getCharCount:function(a,b){b=b||",";return this._getInnerText(a).split(b).length-1},_cleanStyles:function(a){if(a&&"svg"!==a.tagName.toLowerCase()){for(var b=0;b<this.PRESENTATIONAL_ATTRIBUTES.length;b++)a.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[b]);this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.has(a.tagName)&&
(a.removeAttribute("width"),a.removeAttribute("height"));for(a=a.firstElementChild;null!==a;)this._cleanStyles(a),a=a.nextElementSibling}},_getLinkDensity:function(a){var b=this._getInnerText(a).length;if(0===b)return 0;var c=0;this._forEachNode(a.getElementsByTagName("a"),function(d){var e=d.getAttribute("href"),f=e&&this.REGEXPS.hashUrl.test(e)?.3:1;this.REGEXPS.keepUrl.test(e)&&(f=0);c+=this._getInnerText(d).length*f});return c/b},_getClassWeight:function(a){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;
var b=0,c=RegExp("news-item","i"),d=this._enhancements.list.additionalPositiveRegexp;"string"===typeof a.className&&""!==a.className&&(this.REGEXPS.negative.test(a.className)&&(b-=25),this.REGEXPS.positive.test(a.className)&&(b+=25),d.enabled&&c.test(a.className)&&(b+=25,d.trigger()));"string"===typeof a.id&&""!==a.id&&(this.REGEXPS.negative.test(a.id)&&(b-=25),this.REGEXPS.positive.test(a.id)&&(b+=25),d.enabled&&c.test(a.id)&&(b+=25,d.trigger()));return b},_getSpecialConditionsWeight:function(a){if(!this._flagIsActive(this.FLAG_SPECIAL_SITE_CONDITIONS))return 0;
var b=0,c=this._getNodeAncestors(a,10);this._someNode(c,function(d){if(!d.className)return!1;d=d.className.split(" ");return(-1!==d.indexOf("rbcslider__slide")||-1!==d.indexOf("js-rbcslider-slide"))&&-1!==d.indexOf("current")})&&(b+=500);a.className&&-1!==a.className.indexOf("article-container")&&-1!==a.className.indexOf("slot-active-1")&&(b+=500);return b},_clean:function(a,b){var c=-1!==["object","embed","iframe"].indexOf(b);this._removeNodes(this._getAllNodesWithTag(a,[b]),function(d){if(c){for(var e=
0;e<d.attributes.length;e++)if(this._allowedVideoRegex.test(d.attributes[e].value))return!1;if("object"===d.tagName&&this._allowedVideoRegex.test(d.innerHTML))return!1}return!0})},_hasAncestorTag:function(a,b,c,d){c=c||3;b=b.toUpperCase();for(var e=0;a.parentNode&&!(0<c&&e>c);){if(a.parentNode.tagName===b&&(!d||d(a.parentNode)))return!0;a=a.parentNode;e++}return!1},_getRowAndColumnCount:function(a){var b=0,c=0;a=a.getElementsByTagName("tr");for(var d=0;d<a.length;d++){var e=a[d].getAttribute("rowspan")||
0;e&&(e=parseInt(e,10));b+=e||1;e=0;for(var f=a[d].getElementsByTagName("td"),l=0;l<f.length;l++){var g=f[l].getAttribute("colspan")||0;g&&(g=parseInt(g,10));e+=g||1}c=Math.max(c,e)}return{rows:b,columns:c}},_markDataTables:function(a){a=a.getElementsByTagName("table");for(var b=0;b<a.length;b++){var c=a[b];if("presentation"==c.getAttribute("role"))c._readabilityDataTable=!1;else if("0"==c.getAttribute("datatable"))c._readabilityDataTable=!1;else if(c.getAttribute("summary"))c._readabilityDataTable=
!0;else{var d=c.getElementsByTagName("caption")[0];d&&0<d.childNodes.length?c._readabilityDataTable=!0:["col","colgroup","tfoot","thead","th"].some(function(e){return!!c.getElementsByTagName(e)[0]})?(this.log("Data table because found data-y descendant"),c._readabilityDataTable=!0):c.getElementsByTagName("table")[0]?c._readabilityDataTable=!1:(d=this._getRowAndColumnCount(c),c._readabilityDataTable=10<=d.rows||4<d.columns?!0:10<d.rows*d.columns)}}},_fixLazyImages:function(a){this._forEachNode(this._getAllNodesWithTag(a,
["img","picture","figure"]),function(b){if(b.src&&this.REGEXPS.b64DataUrl.test(b.src)){if("image/svg+xml"===this.REGEXPS.b64DataUrl.exec(b.src)[1])return;for(var c=!1,d=0;d<b.attributes.length;d++){var e=b.attributes[d];if("src"!==e.name&&/\.(jpg|jpeg|png|webp)/i.test(e.value)){c=!0;break}}c&&(e=b.src.search(/base64\s*/i)+7,133>b.src.length-e&&b.removeAttribute("src"))}if(!(b.src||b.srcset&&"null"!=b.srcset)||-1!==b.className.toLowerCase().indexOf("lazy"))for(c=0;c<b.attributes.length;c++)if(e=b.attributes[c],
"src"!==e.name&&"srcset"!==e.name&&"alt"!==e.name&&(d=null,/\.(jpg|jpeg|png|webp)\s+\d/.test(e.value)?d="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(e.value)&&(d="src"),d))if("IMG"===b.tagName||"PICTURE"===b.tagName)b.setAttribute(d,e.value);else if("FIGURE"===b.tagName&&!this._getAllNodesWithTag(b,["img","picture"]).length){var f=this._doc.createElement("img");f.setAttribute(d,e.value);b.appendChild(f)}})},_getTextDensity:function(a,b){var c=this,d=this._getInnerText(a,!0).length;if(0===d)return 0;
var e=0;a=this._getAllNodesWithTag(a,b);this._forEachNode(a,function(f){return e+=c._getInnerText(f,!0).length});return e/d},_cleanConditionally:function(a,b){this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)&&this._removeNodes(this._getAllNodesWithTag(a,[b]),function(c){var d=this,e="ul"===b||"ol"===b;if(!e){var f=0;e=this._getAllNodesWithTag(c,["ul","ol"]);this._forEachNode(e,function(y){return f+=d._getInnerText(y).length});e=.9<f/this._getInnerText(c).length}if("table"===b&&c._readabilityDataTable||
this._hasAncestorTag(c,"table",-1,function(y){return y._readabilityDataTable})||this._hasAncestorTag(c,"code"))return!1;var l=this._getClassWeight(c),g=this._enhancements.list.keepElementsWeightByClassname;if(0>l&&g.enabled){var h=RegExp("-ad-|hidden","i");"string"===typeof c.className&&h.test(c.className)&&(l+=25,g.trigger())}this.log("Cleaning Conditionally",c);if(0>l+0)return!0;if(10>this._getCharCount(c,",")){var k=c.getElementsByTagName("p").length;h=c.getElementsByTagName("img").length;var m=
c.getElementsByTagName("li").length-100,n=c.getElementsByTagName("input").length;g=this._getTextDensity(c,"h1 h2 h3 h4 h5 h6".split(" "));for(var p=0,q=this._getAllNodesWithTag(c,["object","embed","iframe"]),t=0;t<q.length;t++){for(var w=0;w<q[t].attributes.length;w++)if(this._allowedVideoRegex.test(q[t].attributes[w].value))return!1;if("object"===q[t].tagName&&this._allowedVideoRegex.test(q[t].innerHTML))return!1;p++}q=this._getLinkDensity(c);t=this._getInnerText(c).length;k=1<h&&.5>k/h&&!this._hasAncestorTag(c,
"figure")||!e&&m>k||n>Math.floor(k/3)||!e&&.9>g&&25>t&&(0===h||2<h)&&!this._hasAncestorTag(c,"figure")||!e&&25>l&&.2<q||25<=l&&.5<q||1===p&&75>t||1<p;if(e&&k){for(m=0;m<c.children.length;m++)if(1<c.children[m].children.length)return k;m=c.getElementsByTagName("li").length;if(h==m)return!1}h=this._enhancements.list.keepElementsToRemove;if(h.enabled)if(k){if(25<=l&&.5<q||!e&&0<g||!e&&40<t&&0<q||this._haveElementsToKeep(c))k=!1,c.shouldKeep=!0,h.trigger()}else c.shouldKeep=!0;return k}return!1})},_haveElementsToKeep:function(a){var b=
this,c=!0===a.shouldKeep;!c&&a.childNodes&&0<a.childNodes.length&&(c=Array.from(a.childNodes).some(function(d){return!0===b._haveElementsToKeep(d)}));return c},_cleanMatchedNodes:function(a,b){var c=this._getNextNode(a,!0);for(a=this._getNextNode(a);a&&a!=c;)a=b.call(this,a,a.className+" "+a.id)?this._removeAndGetNext(a):this._getNextNode(a)},_cleanHeaders:function(a){a=this._getAllNodesWithTag(a,["h1","h2"]);this._removeNodes(a,function(b){var c=0>this._getClassWeight(b);c&&this.log("Removing header with low class weight:",
b);return c})},_headerDuplicatesTitle:function(a){if("H1"!=a.tagName&&"H2"!=a.tagName)return!1;a=this._getInnerText(a,!1);this.log("Evaluating similarity of header:",a,this._articleTitle);return.75<this._textSimilarity(this._articleTitle,a)},_flagIsActive:function(a){return 0<(this._flags&a)},_removeFlag:function(a){this._flags&=~a},_isProbablyVisible:function(a){return(!a.style||"none"!=a.style.display)&&!a.hasAttribute("hidden")&&(!a.hasAttribute("aria-hidden")||"true"!=a.getAttribute("aria-hidden")||
a.className&&a.className.indexOf&&-1!==a.className.indexOf("fallback-image"))},_getTextContentRecursively:function(a){var b=this,c=this._enhancements.list.removeComments;if(c.enabled&&this._elementIsComment(a))return c.trigger(),[];if(this._hasChildBlockElement(a)){var d=[].concat($jscomp.arrayFromIterable(a.childNodes)),e=[];d.forEach(function(f,l){l=0<l&&d[l-1];var g=b._isBlockElement(l),h=b._isBlockElement(f);!l||g||h?e.push.apply(e,$jscomp.arrayFromIterable(b._getTextContentRecursively(f))):e[e.length-
1]+=" "+b._getInnerText(f)});return e}return"#comment"===a.nodeName?[]:[this._getInnerText(a)]},parse:function(){if(0<this._maxElemsToParse){var a=this._doc.getElementsByTagName("*").length;if(a>this._maxElemsToParse)throw Error("Aborting parsing document; "+a+" elements found");}this._unwrapNoscriptImages(this._doc);a=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc);this._prepDocument();a=this._getArticleMetadata(a);this._articleTitle=a.title;var b=this._grabArticle();
if(!b)return null;this.log("Grabbed: "+b.innerHTML);this._postProcessContent(b);if(!a.excerpt){var c=b.getElementsByTagName("p");0<c.length&&(a.excerpt=c[0].textContent.trim())}c=b.textContent;return{title:this._articleTitle,byline:this._choosePreferableByline(a.byline,this._articleByline),dir:this._articleDir,lang:this._articleLang,rootNode:b,content:this._serializer(b),textContent:c,length:c.length,excerpt:a.excerpt,siteName:a.siteName||this._articleSiteName}},_getOriginalElementByUniqueId:function(a){return(this._originalDocumentElements||
{})[a]},parseAsTextParts:function(a,b){var c=this;b=void 0===b?1E3:b;var d=this.parse();if(!d)return[];var e=d.rootNode,f=[];this._removeNodes(e.querySelectorAll("*"),function(h){var k=h.tagName;if(c._enhancements.enabled){var m=c._getInnerText(h),n=h.id||"",p="string"===typeof h.className?h.className:"",q=h.getAttribute("data-unique-elem-id"),t=c._getOriginalElementByUniqueId(q),w=c._enhancements.list.removeComments;if(w.enabled&&c._elementIsComment(h))return w.trigger(),!0;w=c._enhancements.list.removeEmptyElements;
if(w.enabled&&""===m)return w.trigger(),!0;m=c._enhancements.list.removeHighchartsJsElements;if(m.enabled&&n.includes("highcharts")||p.includes("highcharts"))return m.trigger(),!0;n=c._enhancements.list.removeSvgElements;if(n.enabled&&"svg"===k)return n.trigger(),!0;n=c._enhancements.list.removeHiddenElements;if(n.enabled&&q&&t&&!c._isElementVisible(t))return n.trigger(t),!0}q=c._enhancements.list.betterDetectElementInnerText;switch(k){case "IMG":if(c.imageAnnotationsEnabled&&h.hasAttribute("data-y-annotation-id"))k=
new Text("[img:"+h.getAttribute("data-y-annotation-id")+"]"),h.replaceWith(k);else return!0;break;case "META":return!0;case "A":q.enabled||h.replaceWith(h.innerText)}c._isBlockElement(h)||(q.enabled?(k=h.innerText,t=c._getInnerText(h),k!==t?(q.trigger({before:k,after:t}),h.replaceWith(t)):h.replaceWith(k)):h.replaceWith(h.innerText));return!1});var l=this._enhancements.list.removePageTitle;l.enabled?l.trigger(d.title):f.push(d.title);f.push.apply(f,$jscomp.arrayFromIterable(this._getTextContentRecursively(e)));
var g=/[\w\u0430-\u044f\u0410-\u042f]/;f=f.filter(function(h){return h&&g.test(h)});this._enhancements.enabled&&(d=function(h,k){f=(k=void 0===k?!1:k)?h.call(c,f.slice(),k):f.slice(0,1).concat(h.call(c,f.slice(1)))},d(this._removeLinksAsText),d(this._removePhonesAsText),d(this._removeEmailsAsText),d(this._removeSimilarTexts,!0));this._enhancements.articleParts=f;this.log("enhancements statistics",this._enhancements);return a?this.normalizeTextParts(f,b):f},_isElementVisible:function(a){var b=a.offsetWidth,
c=a.offsetHeight,d=a.scrollWidth,e=a.scrollHeight,f=a.offsetLeft,l=a.offsetTop,g=!1;try{g="hidden"===window.getComputedStyle(a).visibility}catch(h){}return!g&&(0<b||0<d)&&(0<c||0<e)&&0<f+b&&0<l+c},_removeLinksAsText:function(a){var b=this;return a.filter(function(c){c=0===c.trim().indexOf("http");var d=b._enhancements.list.removeLinksAsText;d.enabled&&c&&d.trigger();return!c})},_removePhonesAsText:function(a){var b=this;return a.filter(function(c){c=/(\+)?([- _():=+]?\d[- _():=+]?){10,14}/.test(c.trim());
var d=b._enhancements.list.removePhonesAsText;d.enabled&&c&&d.trigger();return!c})},_removeEmailsAsText:function(a){var b=this;return a.filter(function(c){c=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.trim());var d=b._enhancements.list.removeEmailsAsText;d.enabled&&c&&d.trigger();return!c})},_removeSimilarTexts:function(a,b){var c=this;b=void 0===b?!1:b;var d=this._enhancements.list.removeSimilarTexts;if(!d.enabled)return a;var e=[],f=a.slice(b?1:0);f.sort(function(l,g){return g.length-l.length});b&&f.unshift(a[0]);
f.forEach(function(l,g){if(0!==g)for(g=0;g<e.length;g++){var h=e[g];if(.95<=(h.includes(l)?1:h.length<l.length?0:c._textSimilarity(l,h))){d.trigger({textA:l,textB:h});return}}e.push(l)});e.sort(function(l,g){return a.indexOf(l)-a.indexOf(g)});return e}};"undefined"===typeof trustedTypes&&(trustedTypes={createPolicy:function(a,b){return b}});Readability.policy=trustedTypes.createPolicy("yandex_readability",{createHTML:function(a){return a},createScriptURL:function(a){return a}});
"object"===typeof module&&(module.exports=Readability);"object"===typeof window&&(window.Readability=Readability);(function(){var a=window.Readability,b=window.isProbablyReaderable,c=window.isProbablySummarizable;loadTimeData.getBoolean("readabilityVideoEnabled")||(a.prototype.REGEXPS.videos=/(?!)/);var d=function(e){this.document_=e};d.prototype.isProbablyReaderable=function(){if(this.kIsProbablyReaderableForTesting)return!0;var e=this.document_.location.protocol;e=e.substr(0,e.indexOf(":"));return"http"!==e&&"https"!==e&&"file"!==e?!1:b(this.document_)};d.prototype.isProbablySummarizable=function(e){return c(this.document_,
e)};d.prototype.article=function(){var e=this.getArticleDocument_();return e?d.makeBlobUrl_(e.documentElement.innerHTML):null};d.prototype.articleRaw=function(){var e={enhancementsEnabled:loadTimeData.getBoolean("readabilityEnhancementsEnabled")};return(e=this.getArticleDocument_(e))?e.documentElement.innerHTML:null};d.prototype.articleTextParts=function(e,f,l,g){if(!this.isProbablyReaderable()&&!loadTimeData.getBoolean("alwaysVoiceable"))return[];"undefined"===typeof g&&(g=loadTimeData.getBoolean("readabilityEnhancementsEnabled"));
l=this.createReadabilityForDocument_(this.document_,{shouldCloneDocument:!0,enhancementsEnabled:g,shouldPassOriginalDocument:g,imageAnnotationsEnabled:!!l});g=[];this.kDoNotGetTextPartsThroughReadabilityForTesting||(g=l.parseAsTextParts(e,f));Array.isArray(g)&&g.length||!loadTimeData.getBoolean("alwaysVoiceable")||(g=[this.document_.body.innerText],e&&(g=l.normalizeTextParts(g,f)));return g};d.prototype.getArticleDocument_=function(e){e=void 0===e?{}:e;if(!this.isProbablyReaderable())return null;
e=Object.assign({},{shouldCloneDocument:!0},e);return(e=this.createReadabilityForDocument_(this.document_,e).parse())?this.createReadableDocument_(e):null};d.prototype.createReadableDocument_=function(e){var f=this.document_.implementation.createHTMLDocument(e.title);f.dir=e.dir;var l=f.head,g=f.body;/Mac/.test(navigator.platform)&&g.setAttribute("is-macos","");d.createDocumentHeader_(l);d.createToolbar_(g);d.createCloseButton_(g);d.createArticleHeader_(g,e);d.createElement_(g,["div",{id:"reader-content",
"class":"content",innerHTML:e.content}]);d.createElement_(g,["textarea",{id:"readability-debug-area"}]);d.createElement_(g,["script",{src:'data:text/javascript;base64,Ly8gQ29weXJpZ2h0IChjKSAyMDE2IFlhbmRleCBMTEMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCi8vIEF1dGhvcjogRG1pdHJ5IEd1a2V0bGV2IDx5YXZhbm9zdGFAeWFuZGV4LXRlYW0ucnU+CgooZnVuY3Rpb24oKSB7CiAgJ3VzZSBzdHJpY3QnOwoKICAvKioKICAgKiBPdmVycmlkZSBtZSBmb3IgZGVidWcgbW9kZS4KICAgKiBAdHlwZSB7Ym9vbGVhbn0KICAgKi8KICBjb25zdCBERUJVRyA9IGZhbHNlOwoKICBmdW5jdGlvbiBsb2coKSB7CiAgICBpZiAoIURFQlVHKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBhcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlYWRhYmlsaXR5LWRlYnVnLWFyZWEnKTsKICAgIGFyZWEudmFsdWUgKz0KICAgICAgICAnXG4nICsgQXJyYXkuZnJvbShhcmd1bWVudHMpLm1hcChhID0+IGEudG9TdHJpbmcoKSkuam9pbignLCAnKTsKICAgIGFyZWEuc2Nyb2xsVG9wID0gYXJlYS5zY3JvbGxIZWlnaHQ7CiAgfQoKICBmdW5jdGlvbiBpbml0TW91c2VsZXNzKCkgewogICAgbG9nKCdFbnRlciBpbml0TW91c2VsZXNzJyk7CgogICAgY29uc3QgU0VMRUNURURfQ0xBU1MgPSAna2V5Ym9hcmQtc2VsZWN0ZWQnOwoKICAgIC8vIElmIGVsZW1lbnQgaGFzIGRlZmF1bHQgYWN0aW9uIG9uICdFbnRlcicga2V5LCB0aGVyZSBpcyBubyBuZWVkIHRvIGhhbmRsZQogICAgLy8gaXQgYnkgb3Vyc2VsdmVzLgogICAgY29uc3QgaXRlbXNXaXRoRGVmYXVsdEFjdGlvbiA9IG5ldyBTZXQoWwogICAgICAnYScsCiAgICAgICdidXR0b24nLAogICAgICAnaW5wdXQnLAogICAgICAndGV4dGFyZWEnLAogICAgXSk7CgogICAgLyoqCiAgICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50CiAgICAgKi8KICAgIGZ1bmN0aW9uIGhhbmRsZUtleVVwKGV2ZW50KSB7CiAgICAgIGxvZygnaW5pdE1vdXNlbGVzcyAtPiBoYW5kbGVLZXlVcCcpOwoKICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGxldCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsKCiAgICAgIGlmIChldmVudC5rZXkgIT0gJ1RhYicpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChhY3RpdmVFbGVtZW50ID09IGRvY3VtZW50LmJvZHkpIHsKICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWN0aXZlRWxlbWVudCA9ICQoJ1t0YWJpbmRleD0iMCJdJyk7CiAgICAgICAgICBhY3RpdmVFbGVtZW50LmZvY3VzKCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBhY3RpdmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoU0VMRUNURURfQ0xBU1MpOwogICAgfQoKICAgIC8qKgogICAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudAogICAgICovCiAgICBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGV2ZW50KSB7CiAgICAgIGxvZygnaW5pdE1vdXNlbGVzcyAtPiBoYW5kbGVLZXlEb3duJyk7CgogICAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsKCiAgICAgIGlmIChldmVudC5rZXkgIT0gJ0VudGVyJyB8fAogICAgICAgICAgIWFjdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFNFTEVDVEVEX0NMQVNTKSB8fAogICAgICAgICAgaXRlbXNXaXRoRGVmYXVsdEFjdGlvbi5oYXMoYWN0aXZlRWxlbWVudC5sb2NhbE5hbWUpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBhY3RpdmVFbGVtZW50LmNsaWNrKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50CiAgICAgKi8KICAgIGZ1bmN0aW9uIGhhbmRsZUZvY3VzT3V0KGV2ZW50KSB7CiAgICAgIGxvZygnaW5pdE1vdXNlbGVzcyAtPiBoYW5kbGVGb2N1c091dCcpOwoKICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoU0VMRUNURURfQ0xBU1MpOwogICAgfQoKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgaGFuZGxlS2V5VXApOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCBoYW5kbGVGb2N1c091dCk7CgogICAgbG9nKCdDb21wbGV0ZSBpbml0TW91c2VsZXNzJyk7CiAgfQoKICBmdW5jdGlvbiBpbml0Q2xvc2VCdXR0b24oKSB7CiAgICBsb2coJ0VudGVyIGluaXRDbG9zZUJ1dHRvbicpOwoKICAgIC8qKgogICAgICogQHR5cGUge0VsZW1lbnR9CiAgICAgKi8KICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Nsb3NlLWJ1dHRvbicpOwoKICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgIGxvZygnaW5pdENsb3NlQnV0dG9uIC0+IGNsb3NlIGNsaWNrJyk7CgogICAgICB5YW5kZXgucmVhZGFiaWxpdHkudG9nZ2xlKCk7CiAgICB9KTsKCiAgICBsb2coJ0NvbXBsZXRlIGluaXRDbG9zZUJ1dHRvbicpOwogIH0KCiAgZnVuY3Rpb24gaW5pdFRvb2xiYXJWaXNpYmlsaXR5KCkgewogICAgbG9nKCdFbnRlciBpbml0VG9vbGJhclZpc2liaWxpdHknKTsKCiAgICAvKioKICAgICAqIEB0eXBlIHtFbGVtZW50fQogICAgICovCiAgICBjb25zdCBmb250U2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZvbnQtc2VsZWN0Jyk7CiAgICAvKioKICAgICAqIEB0eXBlIHtFbGVtZW50fQogICAgICovCiAgICBjb25zdCB0b29sYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rvb2xiYXInKTsKCiAgICAvKioKICAgICAqIEB0eXBlIHtib29sZWFufQogICAgICovCiAgICBsZXQgbW91c2VMb2NrZWQgPSBmYWxzZTsKICAgIC8qKgogICAgICogQHR5cGUge2Jvb2xlYW59CiAgICAgKi8KICAgIGxldCBzY3JvbGxMb2NrZWQgPSB0cnVlOwogICAgLyoqCiAgICAgKiBAdHlwZSB7Ym9vbGVhbn0KICAgICAqLwogICAgbGV0IGZvY3VzTG9ja2VkID0gZmFsc2U7CiAgICAvKioKICAgICAqIEB0eXBlIHtib29sZWFufQogICAgICovCiAgICBsZXQgc2VsZWN0TG9ja2VkID0gZmFsc2U7CgogICAgZnVuY3Rpb24gdXBkYXRlVG9vbGJhclZpc2liaWxpdHkoKSB7CiAgICAgIGxvZygnaW5pdFRvb2xiYXJWaXNpYmlsaXR5IC0+IHVwZGF0ZVRvb2xiYXJWaXNpYmlsaXR5Jyk7CgogICAgICB0b29sYmFyLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsCiAgICAgICAgICAhKG1vdXNlTG9ja2VkIHx8IHNjcm9sbExvY2tlZCB8fCBmb2N1c0xvY2tlZCB8fCBzZWxlY3RMb2NrZWQpKTsKICAgIH0KCiAgICBmb250U2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ29wZW5DaGFuZ2UnLCBmdW5jdGlvbigpIHsKICAgICAgbG9nKCdpbml0VG9vbGJhclZpc2liaWxpdHkgLT4gZm9udFNlbGVjdCBvcGVuQ2hhbmdlJyk7CgogICAgICBzZWxlY3RMb2NrZWQgPSBmb250U2VsZWN0Lmhhc0F0dHJpYnV0ZSgnb3BlbicpOwogICAgfSk7CgogICAgbGV0IGZvY3VzVXBkYXRlVGltZW91dCA9IG51bGw7CiAgICBmdW5jdGlvbiB1cGRhdGVGb2N1c0xvY2tlZFN0YXRlKCkgewogICAgICBsb2coJ2luaXRUb29sYmFyVmlzaWJpbGl0eSAtPiB1cGRhdGVGb2N1c0xvY2tlZFN0YXRlJyk7CgogICAgICBpZiAoZm9jdXNMb2NrZWQpIHsKICAgICAgICBjbGVhclRpbWVvdXQoZm9jdXNVcGRhdGVUaW1lb3V0KTsKICAgICAgICBmb2N1c1VwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgZm9jdXNMb2NrZWQgPSAhIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5rZXlib2FyZC1zZWxlY3RlZCcpOwogICAgICAgICAgdXBkYXRlVG9vbGJhclZpc2liaWxpdHkoKTsKICAgICAgICB9LCAxMDAwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmb2N1c0xvY2tlZCA9ICEhZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmtleWJvYXJkLXNlbGVjdGVkJyk7CiAgICAgICAgdXBkYXRlVG9vbGJhclZpc2liaWxpdHkoKTsKICAgICAgfQogICAgfQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB1cGRhdGVGb2N1c0xvY2tlZFN0YXRlKTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdXBkYXRlRm9jdXNMb2NrZWRTdGF0ZSk7CgogICAgbGV0IG1vdXNlVXBkYXRlVGltZW91dCA9IG51bGw7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgbG9nKCdpbml0VG9vbGJhclZpc2liaWxpdHkgLT4gd2luZG93IG1vdXNlbW92ZScpOwoKICAgICAgbW91c2VMb2NrZWQgPSBldmVudC55IDwgNDggKiAyOwoKICAgICAgaWYgKG1vdXNlTG9ja2VkKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KG1vdXNlVXBkYXRlVGltZW91dCk7CiAgICAgICAgbW91c2VVcGRhdGVUaW1lb3V0ID0gbnVsbDsKICAgICAgICB1cGRhdGVUb29sYmFyVmlzaWJpbGl0eSgpOwogICAgICB9IGVsc2UgaWYgKG1vdXNlVXBkYXRlVGltZW91dCA9PT0gbnVsbCkgewogICAgICAgIG1vdXNlVXBkYXRlVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBtb3VzZVVwZGF0ZVRpbWVvdXQgPSBudWxsOwogICAgICAgICAgdXBkYXRlVG9vbGJhclZpc2liaWxpdHkoKTsKICAgICAgICB9LCAzMDApOwogICAgICB9CiAgICB9KTsKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24oKSB7CiAgICAgIGxvZygnaW5pdFRvb2xiYXJWaXNpYmlsaXR5IC0+IHdpbmRvdyBzY3JvbGwnKTsKCiAgICAgIHNjcm9sbExvY2tlZCA9ICh3aW5kb3cuc2Nyb2xsWSA9PT0gMCB8fAogICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQgPD0gKHdpbmRvdy5zY3JvbGxZICsgd2luZG93LmlubmVySGVpZ2h0KSk7CiAgICAgIHVwZGF0ZVRvb2xiYXJWaXNpYmlsaXR5KCk7CiAgICB9LCB7cGFzc2l2ZTogdHJ1ZX0pOwoKICAgIGxvZygnQ29tcGxldGUgaW5pdFRvb2xiYXJWaXNpYmlsaXR5Jyk7CiAgfQoKICAvKioKICAgKiBAcGFyYW0ge251bWJlcn0gaW5pdGlhbFNpemUKICAgKiBAcmV0dXJuIHt2b2lkfQogICovCiAgZnVuY3Rpb24gaW5pdFBhZ2VTaXplKGluaXRpYWxTaXplKSB7CiAgICBsb2coJ0VudGVyIGluaXRQYWdlU2l6ZSB3aXRoIGluaXRpYWwgc2l6ZTogJyArIGluaXRpYWxTaXplKTsKCiAgICAvKioKICAgICAqIEB0eXBlIHtudW1iZXJ9CiAgICAgKi8KICAgIGNvbnN0IE1BWF9TSVpFID0gMzsKCiAgICAvKioKICAgICAqIEB0eXBlIHtudW1iZXJ9CiAgICAgKi8KICAgIGNvbnN0IE1JTl9TSVpFID0gLTE7CgogICAgLyoqCiAgICAgKiBAdHlwZSB7SFRNTEJ1dHRvbkVsZW1lbnR9CiAgICAgKi8KICAgIGNvbnN0IHBsdXNCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2l6ZS1idXR0b24tcGx1cycpOwogICAgLyoqCiAgICAgKiBAdHlwZSB7SFRNTEJ1dHRvbkVsZW1lbnR9CiAgICAgKi8KICAgIGNvbnN0IG1pbnVzQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NpemUtYnV0dG9uLW1pbnVzJyk7CgogICAgLyoqCiAgICAgKiBAdHlwZSB7bnVtYmVyfQogICAgICovCiAgICBsZXQgc2l6ZSA9IGluaXRpYWxTaXplOwoKICAgIGZ1bmN0aW9uIHVwZGF0ZUF0dHJpYnV0ZUFuZERpc2FibGVTaXplQnV0dG9ucygpIHsKICAgICAgbG9nKCdpbml0UGFnZVNpemUgLT4gdXBkYXRlQXR0cmlidXRlQW5kRGlzYWJsZVNpemVCdXR0b25zJyk7CgogICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgnc2l6ZScsIHNpemUpOwogICAgICB5YW5kZXgucmVhZGFiaWxpdHkuc2F2ZVVzZXJQcmVmZXJlbmNlcyh7J2ZvbnRTaXplJzogc2l6ZX0pOwoKICAgICAgcGx1c0J1dHRvbi5kaXNhYmxlZCA9IHNpemUgPT09IE1BWF9TSVpFOwogICAgICBtaW51c0J1dHRvbi5kaXNhYmxlZCA9IHNpemUgPT09IE1JTl9TSVpFOwogICAgfQoKICAgIC8vIFVwZGF0ZSB0aGVtZSBmcm9tIHNlbGVjdG9yLgogICAgcGx1c0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICBsb2coJ2luaXRQYWdlU2l6ZSAtPiBwbHVzIGNsaWNrJyk7CgogICAgICBpZiAoc2l6ZSA+PSBNQVhfU0laRSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBzaXplKys7CiAgICAgIHVwZGF0ZUF0dHJpYnV0ZUFuZERpc2FibGVTaXplQnV0dG9ucygpOwogICAgfSk7CiAgICBtaW51c0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICBsb2coJ2luaXRQYWdlU2l6ZSAtPiBtaW51cyBjbGljaycpOwoKICAgICAgaWYgKHNpemUgPD0gTUlOX1NJWkUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgc2l6ZS0tOwogICAgICB1cGRhdGVBdHRyaWJ1dGVBbmREaXNhYmxlU2l6ZUJ1dHRvbnMoKTsKICAgIH0pOwogICAgdXBkYXRlQXR0cmlidXRlQW5kRGlzYWJsZVNpemVCdXR0b25zKCk7CgogICAgbG9nKCdDb21wbGV0ZSBpbml0UGFnZVNpemUnKTsKICB9CgogIC8qKgogICAqIEBwYXJhbSB7c3RyaW5nfSBpbml0aWFsVGhlbWUKICAgKiBAcmV0dXJuIHt2b2lkfQogICAqLwogIGZ1bmN0aW9uIGluaXRQYWdlVGhlbWUoaW5pdGlhbFRoZW1lKSB7CiAgICBsb2coJ0VudGVyIGluaXRQYWdlVGhlbWUgd2l0aCBpbml0aWFsIHRoZW1lOiAnICsgaW5pdGlhbFRoZW1lKTsKCiAgICBjb25zdCBUSEVNRV9TRVQgPSBuZXcgU2V0KFsKICAgICAgJ3doaXRlJywKICAgICAgJ3NlcGlhJywKICAgICAgJ2JsYWNrJywKICAgIF0pOwoKICAgIGlmICghVEhFTUVfU0VULmhhcyhpbml0aWFsVGhlbWUpKSB7CiAgICAgIGluaXRpYWxUaGVtZSA9ICd3aGl0ZSc7CiAgICB9CgogICAgLyoqCiAgICAgKiBAdHlwZSB7QXJyYXkuPEhUTUxJbnB1dEVsZW1lbnQ+fQogICAgICovCiAgICBjb25zdCByYWRpb0VsZW1lbnRzID0gQXJyYXkuZnJvbSgKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjdGhlbWUtYnV0dG9ucyBpbnB1dCcpKTsKCiAgICAvKioKICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0aGVtZQogICAgICogQHJldHVybiB7dm9pZH0KICAgICAqLwogICAgZnVuY3Rpb24gdXBkYXRlVGhlbWUodGhlbWUpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ3RoZW1lJywgdGhlbWUpOwogICAgICB5YW5kZXgucmVhZGFiaWxpdHkuc2F2ZVVzZXJQcmVmZXJlbmNlcyh7dGhlbWV9KTsKICAgIH0KCiAgICAvKioKICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50CiAgICAgKiBAcmV0dXJuIHt2b2lkfQogICAgICovCiAgICBmdW5jdGlvbiBoYW5kbGVSYWRpb0NoYW5nZShldmVudCkgewogICAgICBsb2coJ2luaXRQYWdlVGhlbWUgLT4gaGFuZGxlUmFkaW9DbGljaycpOwogICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7CgogICAgICBpZiAoIXRhcmdldCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdXBkYXRlVGhlbWUodGFyZ2V0LnZhbHVlKTsKICAgIH0KCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjdGhlbWUtYnV0dG9ucyBbdmFsdWU9IiR7aW5pdGlhbFRoZW1lfSJdYCkKICAgICAgICAuY2hlY2tlZCA9IHRydWU7CiAgICB1cGRhdGVUaGVtZShpbml0aWFsVGhlbWUpOwoKICAgIGZvciAoY29uc3QgcmFkaW9FbGVtZW50IG9mIHJhZGlvRWxlbWVudHMpIHsKICAgICAgcmFkaW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhhbmRsZVJhZGlvQ2hhbmdlKTsKICAgIH0KCiAgICBsb2coJ0NvbXBsZXRlIGluaXRQYWdlVGhlbWUnKTsKICB9CgogIC8qKgogICAqIEBwYXJhbSB7c3RyaW5nfSBpbml0aWFsRm9udAogICAqIEByZXR1cm4ge3ZvaWR9CiAgICovCiAgZnVuY3Rpb24gaW5pdFBhZ2VGb250KGluaXRpYWxGb250KSB7CiAgICBsb2coJ0VudGVyIGluaXRQYWdlRm9udCB3aXRoIGluaXRhbCBmb250OiAnICsgaW5pdGlhbEZvbnQpOwoKICAgIGNvbnN0IEZPTlRfU0VUID0gbmV3IFNldChbCiAgICAgICdhcmlhbCcsCiAgICAgICdnZW9yZ2lhJywKICAgIF0pOwoKICAgIGlmICghRk9OVF9TRVQuaGFzKGluaXRpYWxGb250KSkgewogICAgICBpbml0aWFsRm9udCA9ICdhcmlhbCc7CiAgICB9CgogICAgLyoqCiAgICAgKiBAdHlwZSB7QXJyYXkuPEVsZW1lbnQ+fQogICAgICovCiAgICBjb25zdCByYWRpb0VsZW1lbnRzID0gQXJyYXkuZnJvbSgKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjZm9udC1zZWxlY3QgbGknKSk7CiAgICAvKioKICAgICAqIEB0eXBlIHtFbGVtZW50fQogICAgICovCiAgICBjb25zdCBmb250U2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb250LXNlbGVjdCcpOwogICAgLyoqCiAgICAgKiBAdHlwZSB7RWxlbWVudH0KICAgICAqLwogICAgY29uc3QgY2FwdGlvbkVsZW1lbnQgPQogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZm9udC1zZWxlY3QtbWVudS1jYXB0aW9uJyk7CiAgICAvKioKICAgICAqIEB0eXBlIHtFbGVtZW50fQogICAgICovCiAgICBjb25zdCBtZW51QnV0dG9uRWxlbWVudCA9CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb250LXNlbGVjdC1tZW51LWJ1dHRvbicpOwogICAgLyoqCiAgICAgKiBAdHlwZSB7RWxlbWVudH0KICAgICAqLwogICAgY29uc3QgZHJvcGRvd25FbGVtZW50ID0KICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZvbnQtc2VsZWN0LWRyb3Bkb3duJyk7CgogICAgY29uc3Qga2V5c09wZW5pbmdGb250U2VsZWN0ID0gbmV3IFNldCgKICAgICAgICBbJ0Fycm93VXAnLCAnQXJyb3dEb3duJywgJ0VudGVyJywgJyAnXSwKICAgICk7CgogICAgLyoqCiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fQogICAgKi8KICAgIGZ1bmN0aW9uIGdldENoZWNrZWRSYWRpb0VsZW1lbnQoKSB7CiAgICAgIHJldHVybiByYWRpb0VsZW1lbnRzLmZpbmQocmFkaW8gPT4KICAgICAgICByYWRpby5nZXRBdHRyaWJ1dGUoJ2FyaWEtY2hlY2tlZCcpID09PSAndHJ1ZScpOwogICAgfQoKICAgIC8qKgogICAgICogQHBhcmFtIHtzdHJpbmd9IGZvbnROYW1lS2V5CiAgICAgKiBAcmV0dXJuIHt2b2lkfQogICAgICovCiAgICBmdW5jdGlvbiBhcHBseUZvbnQoZm9udE5hbWVLZXkpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ2ZvbnQnLCBmb250TmFtZUtleSk7CiAgICAgIHlhbmRleC5yZWFkYWJpbGl0eS5zYXZlVXNlclByZWZlcmVuY2VzKHsnZm9udE5hbWUnOiBmb250TmFtZUtleX0pOwogICAgfQoKICAgIC8qKgogICAgICogQHBhcmFtIHtzdHJpbmd9IGZvbnROYW1lS2V5CiAgICAgKiBAcmV0dXJuIHt2b2lkfQogICAgICovCiAgICBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5ZWRGb250KGZvbnROYW1lS2V5KSB7CiAgICAgIGNvbnN0IGZvbnROYW1lRGlzcGxheWVkID0KICAgICAgICAgIGRyb3Bkb3duRWxlbWVudC5xdWVyeVNlbGVjdG9yKGBsaVtkYXRhLWZvbnQ9IiR7CiAgICAgICAgICAgIGZvbnROYW1lS2V5CiAgICAgICAgICB9Il1gKS50ZXh0Q29udGVudDsKCiAgICAgIGNhcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gZm9udE5hbWVEaXNwbGF5ZWQ7CiAgICAgIG1lbnVCdXR0b25FbGVtZW50CiAgICAgICAgICAuc2V0QXR0cmlidXRlKAogICAgICAgICAgICAgICdhcmlhLWxhYmVsJywKICAgICAgICAgICAgICBgJHttZW51QnV0dG9uRWxlbWVudAogICAgICAgICAgICAgICAgLmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpLnNwbGl0KCc6JylbMF0KICAgICAgICAgICAgICB9OiAke2ZvbnROYW1lRGlzcGxheWVkfWApOwogICAgfQoKICAgIC8qKgogICAgICogQHBhcmFtIHtFbGVtZW50fSByYWRpb0VsZW1lbnRUb0NoZWNrCiAgICAgKiBAcmV0dXJuIHt2b2lkfQogICAgICovCiAgICBmdW5jdGlvbiB1cGRhdGVSYWRpb0VsZW1lbnRzQ2hlY2socmFkaW9FbGVtZW50VG9DaGVjaykgewogICAgICByYWRpb0VsZW1lbnRzLmZvckVhY2gocmFkaW9FbGVtZW50ID0+CiAgICAgICAgcmFkaW9FbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1jaGVja2VkJywgJ2ZhbHNlJykpOwogICAgICByYWRpb0VsZW1lbnRUb0NoZWNrLnNldEF0dHJpYnV0ZSgnYXJpYS1jaGVja2VkJywgJ3RydWUnKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBwYXJhbSB7RWxlbWVudH0gcmFkaW9FbGVtZW50CiAgICAgKi8KICAgIGZ1bmN0aW9uIGhhbmRsZVJhZGlvRWxlbWVudENoZWNrKHJhZGlvRWxlbWVudCkgewogICAgICBpZiAoIXJhZGlvRWxlbWVudCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY2xvc2VGb250U2VsZWN0KCk7CiAgICAgIGFwcGx5Rm9udChyYWRpb0VsZW1lbnQuZGF0YXNldC5mb250KTsKICAgICAgdXBkYXRlRGlzcGxheWVkRm9udChyYWRpb0VsZW1lbnQuZGF0YXNldC5mb250KTsKICAgICAgdXBkYXRlUmFkaW9FbGVtZW50c0NoZWNrKHJhZGlvRWxlbWVudCk7CiAgICAgIG1ha2VFbGVtZW50Rm9jdXNlZChtZW51QnV0dG9uRWxlbWVudCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAcmV0dXJuIHtib29sZWFufQogICAgICovCiAgICBmdW5jdGlvbiBpc0ZvbnRTZWxlY3RPcGVuZWQoKSB7CiAgICAgIHJldHVybiBmb250U2VsZWN0RWxlbWVudC5oYXNBdHRyaWJ1dGUoJ29wZW4nKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudAogICAgICovCiAgICBmdW5jdGlvbiBtYWtlRWxlbWVudEZvY3VzZWQoZWxlbWVudCkgewogICAgICBlbGVtZW50LmZvY3VzKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fQogICAgICovCiAgICBmdW5jdGlvbiBnZXRGb2N1c2VkRWxlbWVudCgpIHsKICAgICAgcmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7CiAgICB9CgogICAgZnVuY3Rpb24gZGlzcGF0Y2hGb250U2VsZWN0T3BlbkNoYW5nZUV2ZW50KCkgewogICAgICBmb250U2VsZWN0RWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnb3BlbkNoYW5nZScpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjbG9zZUZvbnRTZWxlY3QoKSB7CiAgICAgIGZvbnRTZWxlY3RFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnb3BlbicpOwogICAgICBkaXNwYXRjaEZvbnRTZWxlY3RPcGVuQ2hhbmdlRXZlbnQoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBvcGVuRm9udFNlbGVjdCgpIHsKICAgICAgZm9udFNlbGVjdEVsZW1lbnQuc2V0QXR0cmlidXRlKCdvcGVuJywgJycpOwogICAgICBkaXNwYXRjaEZvbnRTZWxlY3RPcGVuQ2hhbmdlRXZlbnQoKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50CiAgICAgKiBAcmV0dXJuIHt2b2lkfQogICAgICovCiAgICBmdW5jdGlvbiBoYW5kbGVSYWRpb0VsZW1lbnRDbGljayhldmVudCkgewogICAgICBsb2coJ2luaXRQYWdlRm9udCAtPiBoYW5kbGVSYWRpb0VsZW1lbnRDbGljaycpOwoKICAgICAgaGFuZGxlUmFkaW9FbGVtZW50Q2hlY2soZXZlbnQudGFyZ2V0KTsKICAgIH0KCiAgICAvKioKICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50CiAgICAgKiBAcmV0dXJuIHt2b2lkfQogICAgICovCiAgICBmdW5jdGlvbiBoYW5kbGVXaW5kb3dDbGljayhldmVudCkgewogICAgICBsb2coJ2luaXRQYWdlRm9udCAtPiB3aW5kb3cgY2xpY2snKTsKCiAgICAgIGlmICghaXNGb250U2VsZWN0T3BlbmVkKCkgfHwKICAgICAgICAgIGV2ZW50LmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGZvbnRTZWxlY3RFbGVtZW50KSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY2xvc2VGb250U2VsZWN0KCk7CiAgICB9CgogICAgZnVuY3Rpb24gaGFuZGxlTWVudUJ1dHRvbkVsZW1lbnRDbGljaygpIHsKICAgICAgbG9nKCdpbml0UGFnZUZvbnQgLT4gaGFuZGxlTWVudUJ1dHRvbkVsZW1lbnRDbGljayBjbGljaycpOwoKICAgICAgb3BlbkZvbnRTZWxlY3QoKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50CiAgICAgKi8KICAgIGZ1bmN0aW9uIGhhbmRsZU1lbnVCdXR0b25FbGVtZW50S2V5ZG93bihldmVudCkgewogICAgICBpZiAoIWtleXNPcGVuaW5nRm9udFNlbGVjdC5oYXMoZXZlbnQua2V5KSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgb3BlbkZvbnRTZWxlY3QoKTsKICAgICAgbWFrZUVsZW1lbnRGb2N1c2VkKGdldENoZWNrZWRSYWRpb0VsZW1lbnQoKSk7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudAogICAgICogQHJldHVybiB7dm9pZH0KICAgICAqLwogICAgZnVuY3Rpb24gaGFuZGxlRHJvcGRvd25FbGVtZW50S2V5ZG93bihldmVudCkgewogICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7CgogICAgICBpZiAoIXRhcmdldCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgbGV0IHJhZGlvRWxlbWVudFRvRm9jdXM7CiAgICAgIGNvbnN0IGZvY3VzZWRFbGVtZW50ID0gZ2V0Rm9jdXNlZEVsZW1lbnQoKTsKCiAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7CiAgICAgICAgY2FzZSAnRXNjYXBlJzoKICAgICAgICAgIGNsb3NlRm9udFNlbGVjdCgpOwogICAgICAgICAgYXBwbHlGb250KGdldENoZWNrZWRSYWRpb0VsZW1lbnQoKS5kYXRhc2V0LmZvbnQpOwogICAgICAgICAgbWFrZUVsZW1lbnRGb2N1c2VkKG1lbnVCdXR0b25FbGVtZW50KTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICcgJzoKICAgICAgICBjYXNlICdFbnRlcic6CiAgICAgICAgICBoYW5kbGVSYWRpb0VsZW1lbnRDaGVjayhmb2N1c2VkRWxlbWVudCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnQXJyb3dVcCc6CiAgICAgICAgICByYWRpb0VsZW1lbnRUb0ZvY3VzID0KICAgICAgICAgICAgcmFkaW9FbGVtZW50c1tyYWRpb0VsZW1lbnRzLmluZGV4T2YoZm9jdXNlZEVsZW1lbnQpIC0gMV07CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnQXJyb3dEb3duJzoKICAgICAgICAgIHJhZGlvRWxlbWVudFRvRm9jdXMgPQogICAgICAgICAgICByYWRpb0VsZW1lbnRzW3JhZGlvRWxlbWVudHMuaW5kZXhPZihmb2N1c2VkRWxlbWVudCkgKyAxXTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChyYWRpb0VsZW1lbnRUb0ZvY3VzKSB7CiAgICAgICAgbWFrZUVsZW1lbnRGb2N1c2VkKHJhZGlvRWxlbWVudFRvRm9jdXMpOwogICAgICAgIGFwcGx5Rm9udChyYWRpb0VsZW1lbnRUb0ZvY3VzLmRhdGFzZXQuZm9udCk7CiAgICAgIH0KCiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CgogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2ZvbnQtc2VsZWN0IFtkYXRhLWZvbnQ9IiR7CiAgICAgIGluaXRpYWxGb250CiAgICB9Il1gKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtY2hlY2tlZCcsICd0cnVlJyk7CiAgICBhcHBseUZvbnQoaW5pdGlhbEZvbnQpOwogICAgdXBkYXRlRGlzcGxheWVkRm9udChpbml0aWFsRm9udCk7CgogICAgZm9yIChjb25zdCByYWRpb0VsZW1lbnQgb2YgcmFkaW9FbGVtZW50cykgewogICAgICByYWRpb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSYWRpb0VsZW1lbnRDbGljayk7CiAgICB9CgogICAgZHJvcGRvd25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVEcm9wZG93bkVsZW1lbnRLZXlkb3duKTsKICAgIG1lbnVCdXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoCiAgICAgICAgJ2tleWRvd24nLAogICAgICAgIGhhbmRsZU1lbnVCdXR0b25FbGVtZW50S2V5ZG93biwKICAgICk7CiAgICBtZW51QnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU1lbnVCdXR0b25FbGVtZW50Q2xpY2spOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlV2luZG93Q2xpY2spOwoKICAgIGxvZygnQ29tcGxldGUgaW5pdFBhZ2VGb250Jyk7CiAgfQoKICAvKioKICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zCiAgICovCiAgZnVuY3Rpb24gSW5pdChwYXJhbXMpIHsKICAgIGluaXRNb3VzZWxlc3MoKTsKICAgIGluaXRDbG9zZUJ1dHRvbigpOwogICAgaW5pdFRvb2xiYXJWaXNpYmlsaXR5KCk7CiAgICBpbml0UGFnZVNpemUocGFyYW1zLmZvbnRTaXplKTsKICAgIGluaXRQYWdlVGhlbWUocGFyYW1zLnRoZW1lKTsKICAgIGluaXRQYWdlRm9udChwYXJhbXMuZm9udE5hbWUpOwoKICAgIGxvZygnSW5pdCBjb21wbGV0ZScpOwogIH0KICBpZiAoREVCVUcpIHsKICAgIGRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCdkZWJ1ZycsICcnKTsKICB9CgogIHlhbmRleC5yZWFkYWJpbGl0eS5nZXRVc2VyUHJlZmVyZW5jZXMoSW5pdCk7Cn0pKCk7Cg==',type:"text/javascript"}]);d.iterateElements_(f,function(h){return"BR"===h.nodeName},function(h){return h.remove()});d.iterateElements_(f,function(h){return h.hasAttribute("style")},function(h){return h.removeAttribute("style")});return f};d.createDocumentHeader_=function(e){d.createElements_(e,[["meta",{tag:"meta",content:"text/html; charset=UTF-8",
"http-equiv":"Content-Type"}],["meta",{content:"width=device-width, initial-scale=1, user-scalable=no",name:"viewport"}],["link",{href:'data:text/css;charset=UTF-8,html%2Cbody%7Bmargin%3A0%3Bpadding%3A0%3Bfont-family%3A%27Segoe%20UI%27%2CDejaVu%20Sans%2CArial%2Csans-serif%3Bfont-size%3A15px%7Dbody%7Bpadding-top%3A36px%3Bpadding-bottom%3A72px%3Bcolor%3A%232e2e2e%3Bbackground%3A%23f7f7f7%7Dbody%5Btheme%3D%27sepia%27%5D%7Bbackground%3A%23f5efdd%7Dbody%5Btheme%3D%27black%27%5D%7Bcolor%3Argba%28255%2C255%2C255%2C0.8%29%3Bbackground%3A%232c2b28%7Dbody%7B--keyboard-selected-frame-color%3Argba%280%2C0%2C255%2C0.45%29%3B--keyboard-selected-outline%3A2px%20solid%20var%28--keyboard-selected-frame-color%29%3B--readability-control-item-hover-color%3Argba%280%2C0%2C0%2C0.08%29%3B--readability-control-item-active-color%3Argba%280%2C0%2C0%2C0.16%29%3B--readability-control-item-selected-color%3Argba%280%2C0%2C0%2C0.75%29%7Dbody%5Btheme%3D%27black%27%5D%7B--keyboard-selected-frame-color%3Argba%28255%2C128%2C0%2C0.45%29%3B--readability-control-item-hover-color%3Argba%28255%2C255%2C255%2C0.08%29%3B--readability-control-item-active-color%3Argba%28255%2C255%2C255%2C0.16%29%3B--readability-control-item-selected-color%3Argba%28255%2C255%2C255%2C0.75%29%3B--readability-control-color%3A%23fff%7D.keyboard-selected%7Boutline%3Avar%28--keyboard-selected-outline%29%20%21important%7D%23close-button%7Bposition%3Afixed%3Bz-index%3A11%3Btop%3A4px%3Bright%3A7px%3Bdisplay%3Aflex%3Bwidth%3A40px%3Bheight%3A40px%3Bpadding%3A0%3Btransition%3Abackground-color%20.25s%3Bborder%3A0%3Boutline%3A0%3Bbackground%3A0%3Bjustify-content%3Acenter%3Balign-items%3Acenter%7D%23close-button%3Ahover%7Bbackground-color%3Avar%28--readability-control-item-hover-color%29%7D%23close-button%3Aactive%7Bbackground-color%3Avar%28--readability-control-item-active-color%29%7D%23close-button%5Bdisabled%5D%7Bopacity%3A.24%7D%23close-button-icon%7Bwidth%3A16px%3Bheight%3A16px%3Btransform%3Arotate%2845deg%29%3Bbackground-color%3Avar%28--readability-control-color%2C%23000%29%3B-webkit-mask-image%3Aurl%28data%3Aimage/svg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZyBzdHlsZT0iZmlsbDpub25lO3N0cm9rZS13aWR0aDoxO3N0cm9rZTpub25lIj48ZyBmaWxsPSIjMDAwIj48cGF0aCBkPSJNNy42IDcuNkwwIDcuNiAwIDguNSA3LjYgOC41IDcuNiAxNiA4LjQgMTYgOC40IDguNSAxNiA4LjUgMTYgNy42IDguNCA3LjYgOC40IDAgNy42IDAgNy42IDcuNloiLz48L2c%2BPC9nPjwvc3ZnPg%3D%3D%29%7D%23toolbar%7Bposition%3Afixed%3Bz-index%3A10%3Btop%3A0%3Bdisplay%3Aflex%3Bflex-direction%3Arow%3Bwidth%3A100%25%3Bheight%3A48px%3Bpadding-left%3A7px%3Btransition%3Atransform%20.25s%20linear%3Bborder-bottom%3A1px%20solid%20rgba%280%2C0%2C0%2C0.12%29%3Bbackground%3A%23f7f7f7%3Bfont-size%3A15px%3B--bro-select-transition%3Aborder-color%20.25s%3Bjustify-content%3Aflex-start%3Balign-items%3Acenter%7D%23toolbar.hidden%7Btransform%3AtranslateY%28-49px%29%7Dbody%5Btheme%3D%27sepia%27%5D%20%23toolbar%7Bbackground%3A%23f5efdd%7Dbody%5Btheme%3D%27black%27%5D%20%23toolbar%7Bborder-bottom-color%3Argba%28255%2C255%2C255%2C0.12%29%3Bbackground%3A%232c2b28%3B--bro-select-arrow-color%3A%23fff%3B--bro-select-border-color%3A%23838484%3B--bro-select-hover-border-color%3A%23fff%7D%40media%20print%7B%23toolbar%7Bdisplay%3Anone%7D%7D.visually-hidden%7Bposition%3Aabsolute%3Bwidth%3A1px%3Bheight%3A1px%3Bclip%3Arect%280%200%200%200%29%3Bclip-path%3Ainset%2850%25%29%3Bmargin%3A-1px%3Bpadding%3A0%3Bborder%3A0%3Boverflow%3Ahidden%3Bwhite-space%3Anowrap%7D%23size-controls%7Bdisplay%3Aflex%3Bflex-direction%3Arow%3Bjustify-content%3Aflex-start%3Balign-items%3Acenter%7D%23size-controls%20button%7Bdisplay%3Aflex%3Bwidth%3A40px%3Bheight%3A40px%3Bpadding%3A0%3Btransition%3Abackground-color%20.25s%3Bborder%3A0%3Boutline%3A0%3Bbackground%3A0%3Bjustify-content%3Acenter%3Balign-items%3Acenter%7D%23size-controls%20button%3Ahover%7Bbackground-color%3Avar%28--readability-control-item-hover-color%29%7D%23size-controls%20button%3Aactive%7Bbackground-color%3Avar%28--readability-control-item-active-color%29%7D%23size-controls%20button%5Bdisabled%5D%7Bopacity%3A.24%7D%23size-controls%20button%20span%7Bwidth%3A16px%3Bheight%3A16px%3Bbackground-color%3Avar%28--readability-control-color%2C%23000%29%7D%23size-button-plus-icon%7B-webkit-mask-image%3Aurl%28data%3Aimage/svg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZyBzdHlsZT0iZmlsbDpub25lO3N0cm9rZS13aWR0aDoxO3N0cm9rZTpub25lIj48ZyBmaWxsPSIjMDAwIj48cGF0aCBkPSJNNy42IDcuNkwwIDcuNiAwIDguNSA3LjYgOC41IDcuNiAxNiA4LjQgMTYgOC40IDguNSAxNiA4LjUgMTYgNy42IDguNCA3LjYgOC40IDAgNy42IDAgNy42IDcuNloiLz48L2c%2BPC9nPjwvc3ZnPg%3D%3D%29%7D%23size-controls%20%23size-button-minus-icon%7Bheight%3A2px%3B-webkit-mask-image%3Aurl%28data%3Aimage/svg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNyIgaGVpZ2h0PSIyIiB2aWV3Qm94PSIwIDAgMTcgMiI%2BPGcgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2Utd2lkdGg6MTtzdHJva2U6bm9uZSI%2BPGcgZmlsbD0iIzAwMCI%2BPHJlY3QgeD0iMC41IiB5PSIwLjUiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxIi8%2BPC9nPjwvZz48L3N2Zz4%3D%29%7D%23theme-controls%7Bdisplay%3Aflex%3Bflex-direction%3Arow%3Bmargin-left%3A24px%3Balign-items%3Acenter%7D%23theme-buttons%7Bdisplay%3Aflex%3Bflex-direction%3Arow%3Bwidth%3A98px%3Bmargin-left%3A7px%3Bjustify-content%3Aspace-between%3Balign-items%3Acenter%7D%23theme-buttons%20label%7Bdisplay%3Ablock%3Bbox-sizing%3Acontent-box%3Bwidth%3A24px%3Bheight%3A24px%3Bpadding%3A0%3Btransition%3Aborder-color%20.25s%3Bborder%3A3px%20solid%20transparent%3Bborder-radius%3A50%25%3Boutline%3A0%3Bbackground-clip%3Acontent-box%7D%23theme-buttons%20input%5Btype%3D%27radio%27%5D%3Anot%28%3Achecked%29%2Blabel%3Anot%28%3Ahover%29%7Bmargin%3A0%202px%3Bborder%3A1px%20solid%20rgba%280%2C0%2C0%2C0.12%29%7D%23theme-buttons%20label%3Ahover%7Bborder-color%3Avar%28--readability-control-item-hover-color%29%7D%23theme-buttons%20label%3Aactive%7Bborder-color%3Avar%28--readability-control-item-active-color%29%7D%23theme-buttons%20input%5Btype%3D%27radio%27%5D%3Achecked%2Blabel%7Bborder-color%3Avar%28--readability-control-item-selected-color%29%7D%23theme-buttons%20input%5Btype%3D%27radio%27%5D%3Afocus-visible%2Blabel%7Boutline%3Avar%28--keyboard-selected-outline%29%7D%23theme-radio-white-label%7Bbackground-color%3A%23ededed%7D%23theme-radio-sepia-label%7Bbackground-color%3A%23ddd7ca%7D%23theme-radio-black-label%7Bbackground-color%3A%23484848%7D%23font-controls%7Bdisplay%3Aflex%3Bflex-direction%3Arow%3Bmargin-left%3A33px%3Bjustify-content%3Aflex-start%3Balign-items%3Acenter%7D%23font-caption%7Bmargin-right%3A7px%7D%23font-select%7Bposition%3Arelative%3Bdisplay%3Aflex%3Bflex-direction%3Arow%3Bbox-sizing%3Aborder-box%3Bwidth%3A230px%3Bheight%3A32px%3Bcursor%3Adefault%3Buser-select%3Anone%3Btransition%3Aborder-color%20.25s%3Bborder%3A1px%20solid%20var%28--bro-select-border-color%2C%237a7b7b%29%3Boutline%3A0%7D%23font-select%3Ahover%7Bborder-color%3Avar%28--bro-select-hover-border-color%2C%23202020%29%7D%23font-select-menu-caption%7Bdisplay%3Ablock%3Btext-overflow%3Aellipsis%3Boverflow%3Ahidden%3Btext-align%3Aleft%3Bbox-sizing%3Aborder-box%3Bwidth%3Acalc%28100%25%20-%2032px%29%3Bpadding-left%3A3px%3Bmargin-top%3A-2px%7D%23font-select-menu-button%7Bdisplay%3Aflex%3Balign-items%3Acenter%3Bfont-size%3Ainherit%3Bfont-family%3Ainherit%3Boutline%3A0%3Bbackground%3A0%3Bcolor%3Ainherit%3Bborder%3A0%3Bwidth%3A100%25%7D%23font-select-menu-arrow%7Bwidth%3A12px%3Bheight%3A8px%3Bmargin-left%3Aauto%3Bmargin-right%3A3px%3Bbackground%3Avar%28--bro-select-arrow-color%2C%23000%29%3B-webkit-mask-image%3Aurl%28data%3Aimage/svg%2Bxml%3Bbase64%2CPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8%2BPHN2ZyB3aWR0aD0iMTJweCIgaGVpZ2h0PSI4cHgiIHZpZXdCb3g9IjAgMCAxMiA4IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMzwvdGl0bGU%2BICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM%2BICAgIDxnIGlkPSJTeW1ib2xzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJJbnB1dC1jb21iby1ib3giIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMTQuMDAwMDAwLCAtMzkuMDAwMDAwKSIgZmlsbD0iIzMzMzQzMyI%2BICAgICAgICAgICAgPHBvbHlsaW5lIGlkPSJGaWxsLTMiIHBvaW50cz0iMzI1LjMyNSAzOS44NTMgMzE5Ljk2NCA0NS4yMTUgMzE0LjYwMyAzOS44NTMgMzE0LjA3NiA0MC4zODEgMzE5Ljk2NCA0Ni4yNjkgMzI1Ljg1MiA0MC4zODEgMzI1LjMyNSAzOS44NTMiPjwvcG9seWxpbmU%2BICAgICAgICA8L2c%2BICAgIDwvZz48L3N2Zz4%3D%29%7D%23font-select-dropdown%7Bposition%3Aabsolute%3Bz-index%3A1000%3Btop%3A-16px%3Bleft%3A-1px%3Bdisplay%3Aflex%3Bwidth%3A100%25%3Bpadding%3A7px%200%3Btransition%3Aborder-color%20.25s%3Bcolor%3A%23000%3Bborder%3A1px%20solid%20var%28--bro-select-border-color%2C%237a7b7b%29%3Bbackground%3A%23f2f2f2%3Bflex-flow%3Acolumn%7D%23font-select%3Anot%28%5Bopen%5D%29%20%23font-select-dropdown%7Bdisplay%3Anone%7D%23font-select%3Ahover%20%23font-select-dropdown%7Bborder-color%3Avar%28--bro-select-hover-border-color%2C%23202020%29%7D%23font-select-dropdown%20li%7Bdisplay%3Ablock%3Btext-overflow%3Aellipsis%3Boverflow%3Ahidden%3Bbox-sizing%3Aborder-box%3Bwidth%3A100%25%3Bheight%3A32px%3Bpadding%3A5px%2012px%200%2012px%3Boutline%3A0%3Blist-style%3Anone%7D%23font-select-dropdown%20li%3Ahover%2C%23font-select-dropdown%20li%3Afocus-visible%7Bbackground%3Argba%280%2C0%2C0%2C0.16%29%7D%23font-select-dropdown%20li%3Aactive%7Bbackground%3Argba%280%2C0%2C0%2C0.37%29%7D%23font-select-dropdown%20li%5Baria-checked%3D%22true%22%5D%7Bbackground%3Argba%28255%2C204%2C0%2C0.42%29%7D%23font-select-dropdown%20li%5Baria-checked%3D%22true%22%5D%3Ahover%2C%23font-select-dropdown%20li%5Baria-checked%3D%22true%22%5D%3Afocus-visible%7Bbackground%3Argba%28255%2C204%2C0%2C0.64%29%7D%23font-select-dropdown%20li%5Baria-checked%3D%22true%22%5D%3Aactive%7Bbackground%3Argba%28255%2C204%2C0%2C0.82%29%7D%23readability-debug-area%7Bposition%3Afixed%3Bbottom%3A0%3Bleft%3A0%3Bwidth%3A100%25%3Bheight%3A300px%7Dbody%3Anot%28%5Bdebug%5D%29%20%23readability-debug-area%7Bdisplay%3Anone%7Dbody%3E%23reader-header%2Cbody%3E%23reader-content%7Bwidth%3A658px%3Bmargin%3A0%20auto%3Bfont-family%3A%27Georgia%27%2C%27Times%20New%20Roman%27%2Cserif%7Dbody%5Bfont%3D%27arial%27%5D%3E%23reader-header%2Cbody%5Bfont%3D%27arial%27%5D%3E%23reader-content%7Bfont-family%3AArial%2CTahoma%2CVerdana%2Csans-serif%7Dbody%5Bis-macos%5D%5Bfont%3D%27arial%27%5D%3E%23reader-header%2Cbody%5Bis-macos%5D%5Bfont%3D%27arial%27%5D%3E%23reader-content%7Bfont-family%3Asans-serif%2CArial%2CTahoma%2CVerdana%7D%40media%20screen%20and%20%28min-width%3A1218px%29%7Bbody%3E%23reader-header%2Cbody%3E%23reader-content%7Bwidth%3A54%25%7D%7D%40media%20screen%20and%20%28min-width%3A1316px%29%7Bbody%5Bsize%3D%27-1%27%5D%3E%23reader-header%2Cbody%5Bsize%3D%27-1%27%5D%3E%23reader-content%7Bwidth%3A50%25%7D%7D%40media%20screen%20and%20%28min-width%3A1134px%29%7Bbody%5Bsize%3D%271%27%5D%3E%23reader-header%2Cbody%5Bsize%3D%271%27%5D%3E%23reader-content%7Bwidth%3A58%25%7D%7D%40media%20screen%20and%20%28min-width%3A1028px%29%7Bbody%5Bsize%3D%272%27%5D%3E%23reader-header%2Cbody%5Bsize%3D%272%27%5D%3E%23reader-content%7Bwidth%3A64%25%7D%7D%40media%20screen%20and%20%28min-width%3A913px%29%7Bbody%5Bsize%3D%273%27%5D%3E%23reader-header%2Cbody%5Bsize%3D%273%27%5D%3E%23reader-content%7Bwidth%3A72%25%7D%7D%40media%20screen%20and%20%28max-width%3A700px%29%7Bbody%3E%23reader-header%2Cbody%3E%23reader-content%7Bwidth%3A94%25%7D%7Dbody%3E%23reader-header%20h1%2Cbody%3E%23reader-content%20h1%2Cbody%3E%23reader-header%20h2%2Cbody%3E%23reader-content%20h2%2Cbody%3E%23reader-header%20h3%2Cbody%3E%23reader-content%20h3%2Cbody%3E%23reader-header%20h4%2Cbody%3E%23reader-content%20h4%2Cbody%3E%23reader-header%20h5%2Cbody%3E%23reader-content%20h5%2Cbody%3E%23reader-header%20h6%2Cbody%3E%23reader-content%20h6%7Bfont-size%3A20px%3Bline-height%3A1.4em%7Dbody%3E%23reader-header%20h1%2Cbody%3E%23reader-content%20h1%7Bmargin%3A1.2em%200%20.7em%200%3Bfont-size%3A30px%3Bfont-weight%3Anormal%7Dbody%5Bis-macos%5D%5Bfont%3D%27arial%27%5D%3E%23reader-header%20h1%2Cbody%5Bis-macos%5D%5Bfont%3D%27arial%27%5D%3E%23reader-content%20h1%7Bfont-weight%3Abold%7Dbody%5Bsize%3D%271%27%5D%3E%23reader-header%20h1%2Cbody%5Bsize%3D%271%27%5D%3E%23reader-content%20h1%7Bfont-size%3A32px%7Dbody%5Bsize%3D%272%27%5D%3E%23reader-header%20h1%2Cbody%5Bsize%3D%272%27%5D%3E%23reader-content%20h1%7Bfont-size%3A36px%7Dbody%5Bsize%3D%273%27%5D%3E%23reader-header%20h1%2Cbody%5Bsize%3D%273%27%5D%3E%23reader-content%20h1%7Bfont-size%3A42px%7Dbody%5Bsize%3D%27-1%27%5D%3E%23reader-header%20h1%2Cbody%5Bsize%3D%27-1%27%5D%3E%23reader-content%20h1%7Bfont-size%3A26px%7Dbody%3E%23reader-header%20h2%2Cbody%3E%23reader-content%20h2%7Bmargin%3A1.6em%200%20.5em%200%3Bfont-size%3A26px%3Bfont-weight%3Anormal%3Bline-height%3A1.4em%7Dbody%3E%23reader-header%20h2%2Bp%2Cbody%3E%23reader-content%20h2%2Bp%7Bmargin-top%3A0%7Dbody%5Bsize%3D%271%27%5D%3E%23reader-header%20h2%2Cbody%5Bsize%3D%271%27%5D%3E%23reader-content%20h2%7Bfont-size%3A28px%7Dbody%5Bsize%3D%272%27%5D%3E%23reader-header%20h2%2Cbody%5Bsize%3D%272%27%5D%3E%23reader-content%20h2%7Bfont-size%3A32px%7Dbody%5Bsize%3D%273%27%5D%3E%23reader-header%20h2%2Cbody%5Bsize%3D%273%27%5D%3E%23reader-content%20h2%7Bfont-size%3A36px%7Dbody%5Bsize%3D%27-1%27%5D%3E%23reader-header%20h2%2Cbody%5Bsize%3D%27-1%27%5D%3E%23reader-content%20h2%7Bfont-size%3A22px%7Dbody%3E%23reader-header%20h3%2Cbody%3E%23reader-content%20h3%2Cbody%3E%23reader-header%20h4%2Cbody%3E%23reader-content%20h4%2Cbody%3E%23reader-header%20h5%2Cbody%3E%23reader-content%20h6%7Bmargin%3A2em%200%20.6em%200%3Bfont-weight%3Abold%7Dbody%5Bsize%3D%27-1%27%5D%3E%23reader-header%20h3%2Cbody%5Bsize%3D%27-1%27%5D%3E%23reader-content%20h3%7Bmargin%3A2em%200%20.9em%200%7Dbody%3E%23reader-header%20.credits%7Bmargin%3A0%3Bopacity%3A.5%3Bfont-size%3A15px%3Bline-height%3A1.5em%7Dbody%3E%23reader-header%20.credits%3Aempty%7Bdisplay%3Anone%7Dbody%5Bsize%3D%271%27%5D%3E%23reader-header%20.credits%7Bfont-size%3A18px%7Dbody%5Bsize%3D%272%27%5D%3E%23reader-header%20.credits%7Bfont-size%3A20px%7Dbody%5Bsize%3D%273%27%5D%3E%23reader-header%20.credits%7Bfont-size%3A24px%7Dbody%5Bsize%3D%27-1%27%5D%3E%23reader-header%20.credits%7Bfont-size%3A12px%7Dbody%3E%23reader-content%7Bfont-size%3A20px%3Bline-height%3A1.5em%7Dbody%5Bsize%3D%271%27%5D%3E%23reader-content%7Bfont-size%3A22px%7Dbody%5Bsize%3D%272%27%5D%3E%23reader-content%7Bfont-size%3A26px%7Dbody%5Bsize%3D%273%27%5D%3E%23reader-content%7Bfont-size%3A32px%7Dbody%5Bsize%3D%27-1%27%5D%3E%23reader-content%7Bfont-size%3A16px%3Bline-height%3A1.6%7Dbody%3E%23reader-content%20a%7Btext-decoration%3Anone%20%21important%3Bfont-weight%3Anormal%7Dbody%3E%23reader-content%20a%2Cbody%3E%23reader-content%20a%3Avisited%2Cbody%3E%23reader-content%20a%3Ahover%2Cbody%3E%23reader-content%20a%3Aactive%7Bcolor%3A%230075da%20%21important%7Dbody%3E%23reader-content%20img%7Bmax-width%3A100%25%3Bheight%3Aauto%3Bmargin%3A26px%20auto%2016px%20auto%7Dbody%5Bsize%3D%271%27%5D%3E%23reader-content%20img%7Bmargin%3A42px%200%2018px%200%7Dbody%5Bsize%3D%272%27%5D%3E%23reader-content%20img%7Bmargin%3A44px%200%2020px%200%7Dbody%5Bsize%3D%273%27%5D%3E%23reader-content%20img%7Bmargin%3A44px%200%2020px%200%7Dbody%3E%23reader-content%20p%7Bmargin%3A1em%200%201em%200%7Dbody%3E%23reader-content%20blockquote%7Bmargin%3A1em%200%201em%200%3Bfont-size%3A30px%3Bline-height%3A1.4em%7Dbody%5Bsize%3D%271%27%5D%3E%23reader-content%20blockquote%7Bfont-size%3A32px%7Dbody%5Bsize%3D%272%27%5D%3E%23reader-content%20blockquote%7Bfont-size%3A36px%7Dbody%5Bsize%3D%273%27%5D%3E%23reader-content%20blockquote%7Bfont-size%3A42px%7Dbody%5Bsize%3D%27-1%27%5D%3E%23reader-content%20blockquote%7Bfont-size%3A26px%7Dbody%3E%23reader-content%20ul%2Cbody%3E%23reader-content%20ol%7Bmargin%3A0%7Dbody%3E%23reader-content%20li%7Bmargin%3A.2em%200%20.2em%200%7Dbody%3E%23reader-content%20code%2Cbody%3E%23reader-content%20pre%7Bmargin%3A0%200%2020px%200%20%21important%3Bwhite-space%3Apre-wrap%20%21important%7D',rel:"stylesheet",type:"text/css"}]])};d.createCloseButton_=function(e){d.createElement_(e,["button",{id:"close-button",type:"button",children:[["span",{id:"close-button-icon","aria-hidden":"true"}],["span",{"class":"visually-hidden",textContent:loadTimeData.getString("exitReadingMode")}]]}])};d.createToolbar_=function(e){d.createElement_(e,["div",{id:"toolbar",
role:"toolbar","aria-label":loadTimeData.getString("pageFormatting"),"aria-orientation":"horizontal",children:[["span",{role:"alert","class":"visually-hidden",textContent:loadTimeData.getString("readingMode")}],["div",{id:"size-controls",children:[["button",{id:"size-button-plus",type:"button",children:[["span",{id:"size-button-plus-icon","aria-hidden":"true"}],["span",{"class":"visually-hidden",textContent:loadTimeData.getString("zoomIn")}]]}],["button",{id:"size-button-minus",type:"button",children:[["span",
{id:"size-button-minus-icon","aria-hidden":"true"}],["span",{"class":"visually-hidden",textContent:loadTimeData.getString("zoomOut")}]]}]]}],["div",{id:"theme-controls",children:[["div",{id:"theme-caption","aria-hidden":"true",textContent:loadTimeData.getString("background")}],["div",{id:"theme-buttons",role:"radiogroup","aria-label":loadTimeData.getString("backgroundColors"),children:[["input",{"class":"visually-hidden",id:"theme-radio-white","aria-label":loadTimeData.getString("backgroundColorWhite"),
name:"theme-radio",type:"radio",value:"white",checked:"checked"}],["label",{"for":"theme-radio-white",id:"theme-radio-white-label"}],["input",{"class":"visually-hidden",id:"theme-radio-sepia","aria-label":loadTimeData.getString("backgroundColorSepia"),name:"theme-radio",type:"radio",value:"sepia"}],["label",{"for":"theme-radio-sepia",id:"theme-radio-sepia-label"}],["input",{"class":"visually-hidden",id:"theme-radio-black","aria-label":loadTimeData.getString("backgroundColorBlack"),name:"theme-radio",
type:"radio",value:"black"}],["label",{"for":"theme-radio-black",id:"theme-radio-black-label"}]]}]]}],["div",{id:"font-controls",children:[["div",{id:"font-caption","aria-hidden":"true",textContent:loadTimeData.getString("fontLabel")}],["div",{id:"font-select",children:[["button",{id:"font-select-menu-button","aria-label":loadTimeData.getString("fontLabel"),"aria-controls":"font-select-dropdown","aria-haspopup":"true",type:"button",children:[["span",{id:"font-select-menu-caption"}],["span",{"aria-hidden":"true",
id:"font-select-menu-arrow"}]]}],["ul",{id:"font-select-dropdown",role:"listbox","aria-label":loadTimeData.getString("fontList"),children:[["li",{role:"option","data-font":"georgia",tabindex:"-1","aria-checked":"false",textContent:"Georgia"}],["li",{role:"option","data-font":"arial",tabindex:"-1","aria-checked":"false",textContent:"Arial"}]]}]]}]]}]]}])};d.createArticleHeader_=function(e,f){d.createElement_(e,["div",{id:"reader-header","class":"header",children:[["h1",{id:"reader-title",textContent:f.title}],
["div",{id:"reader-credits","class":"credits",textContent:f.byline}]]}])};d.prototype.createReadabilityForDocument_=function(e,f){f=void 0===f?{}:f;if(f.shouldCloneDocument){var l={};f.enhancementsEnabled&&(l.enhancementsEnabled=!0);if(f.shouldPassOriginalDocument){var g=0;e.body.querySelectorAll("*").forEach(function(h){h.setAttribute("data-unique-elem-id",++g)});l.originalDocument=e}f.imageAnnotationsEnabled&&(e.imageAnnotationMap={},e.body.querySelectorAll("img").forEach(function(h){if(""!==h.getAttribute("alt")){var k=
h.getAttribute("data-y-annotation-id")||crypto.randomUUID();h.setAttribute("data-y-annotation-id",k);e.imageAnnotationMap[k]=h}}),l.imageAnnotationsEnabled=!0,l.originalDocument=e);return new a(d.cloneDocument_(e),l)}return new a(e)};d.makeBlobUrl_=function(e){e=new Blob([e],{type:"text/html"});return URL.createObjectURL(e)};d.cloneDocument_=function(e){e=(new XMLSerializer).serializeToString(e);return(new DOMParser).parseFromString(a.policy.createHTML(e),"text/html")};d.iterateElements_=function(e,
f,l){e=e.createNodeIterator(e.body,NodeFilter.SHOW_ELEMENT,{acceptNode:function(h){return f(h)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});for(var g;g=e.nextNode();)l(g)};d.createElement_=function(e,f){var l=$jscomp.makeIterator(f);f=l.next().value;l=l.next().value;l=void 0===l?{}:l;for(var g=e.ownerDocument.createElement(f),h=$jscomp.makeIterator(Object.getOwnPropertyNames(l)),k=h.next();!k.done;k=h.next())switch(k=k.value,k){case "id":g.id=l.id;break;case "class":g.classList.add(l.class);
break;case "textContent":g.textContent=l.textContent;break;case "innerHTML":g.innerHTML=a.policy.createHTML(l.innerHTML);break;case "children":l.children.forEach(function(n){d.createElement_(g,n)});break;default:var m="script"===f&&"src"===k?a.policy.createScriptURL(l[k]):l[k];g.setAttribute(k,m)}e.appendChild(g);return g};d.createElements_=function(e,f){f.forEach(function(l){return d.createElement_(e,l)})};window.yandexReader=new d(document)})();
